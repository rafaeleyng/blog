(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"+g4J":function(e,t,n){"use strict";function o(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}o.prototype=Object.create(Error.prototype),o.prototype.constructor=o,o.prototype.toString=function(e){var t=this.name+": ";return t+=this.reason||"(unknown reason)",!e&&this.mark&&(t+=" "+this.mark.toString()),t},e.exports=o},"/SCz":function(e,t,n){"use strict";var o=n("IZxv");e.exports=new o("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:function(){return!0},construct:function(){},predicate:function(e){return"undefined"===typeof e},represent:function(){return""}})},1:function(e,t){},"1QHI":function(e,t,n){"use strict";var o=n("ymHv");e.exports=new o({include:[n("qLDN")]})},"2LUv":function(e,t,n){var o=n("m1Oa"),r=n("o/EK"),i=n("sJOi");e.exports=function(e){return o(e)||r(e)||i()}},"3/5K":function(e,t,n){"use strict";var o;try{o=n("cski")}catch(i){"undefined"!==typeof window&&(o=window.esprima)}var r=n("IZxv");e.exports=new r("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:function(e){if(null===e)return!1;try{var t="("+e+")",n=o.parse(t,{range:!0});return"Program"===n.type&&1===n.body.length&&"ExpressionStatement"===n.body[0].type&&("ArrowFunctionExpression"===n.body[0].expression.type||"FunctionExpression"===n.body[0].expression.type)}catch(r){return!1}},construct:function(e){var t,n="("+e+")",r=o.parse(n,{range:!0}),i=[];if("Program"!==r.type||1!==r.body.length||"ExpressionStatement"!==r.body[0].type||"ArrowFunctionExpression"!==r.body[0].expression.type&&"FunctionExpression"!==r.body[0].expression.type)throw new Error("Failed to resolve function");return r.body[0].expression.params.forEach((function(e){i.push(e.name)})),t=r.body[0].expression.body.range,"BlockStatement"===r.body[0].expression.body.type?new Function(i,n.slice(t[0]+1,t[1]-1)):new Function(i,"return "+n.slice(t[0],t[1]))},predicate:function(e){return"[object Function]"===Object.prototype.toString.call(e)},represent:function(e){return e.toString()}})},"437f":function(e,t,n){"use strict";var o=n("T9Nc"),r=n("IZxv"),i=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");var a=/^[-+]?[0-9]+e/;e.exports=new r("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(e){return null!==e&&!(!i.test(e)||"_"===e[e.length-1])},construct:function(e){var t,n,o,r;return n="-"===(t=e.replace(/_/g,"").toLowerCase())[0]?-1:1,r=[],"+-".indexOf(t[0])>=0&&(t=t.slice(1)),".inf"===t?1===n?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:t.indexOf(":")>=0?(t.split(":").forEach((function(e){r.unshift(parseFloat(e,10))})),t=0,o=1,r.forEach((function(e){t+=e*o,o*=60})),n*t):n*parseFloat(t,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!==0||o.isNegativeZero(e))},represent:function(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(o.isNegativeZero(e))return"-0.0";return n=e.toString(10),a.test(n)?n.replace("e",".e"):n},defaultStyle:"lowercase"})},"4dPn":function(e,t,n){var o;o=function(){var e=JSON.parse('{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","\xa2":"cent","\xa3":"pound","\xa4":"currency","\xa5":"yen","\xa9":"(c)","\xaa":"a","\xae":"(r)","\xba":"o","\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xc6":"AE","\xc7":"C","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xd0":"D","\xd1":"N","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xdd":"Y","\xde":"TH","\xdf":"ss","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xe6":"ae","\xe7":"c","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xf0":"d","\xf1":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xfd":"y","\xfe":"th","\xff":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u010c":"C","\u010d":"c","\u010e":"D","\u010f":"d","\u0110":"DJ","\u0111":"dj","\u0112":"E","\u0113":"e","\u0116":"E","\u0117":"e","\u0118":"e","\u0119":"e","\u011a":"E","\u011b":"e","\u011e":"G","\u011f":"g","\u0122":"G","\u0123":"g","\u0128":"I","\u0129":"i","\u012a":"i","\u012b":"i","\u012e":"I","\u012f":"i","\u0130":"I","\u0131":"i","\u0136":"k","\u0137":"k","\u013b":"L","\u013c":"l","\u013d":"L","\u013e":"l","\u0141":"L","\u0142":"l","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","\u0154":"R","\u0155":"r","\u0158":"R","\u0159":"r","\u015a":"S","\u015b":"s","\u015e":"S","\u015f":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u0164":"T","\u0165":"t","\u0168":"U","\u0169":"u","\u016a":"u","\u016b":"u","\u016e":"U","\u016f":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017a":"z","\u017b":"Z","\u017c":"z","\u017d":"Z","\u017e":"z","\u0192":"f","\u01a0":"O","\u01a1":"o","\u01af":"U","\u01b0":"u","\u01c8":"LJ","\u01c9":"lj","\u01cb":"NJ","\u01cc":"nj","\u0218":"S","\u0219":"s","\u021a":"T","\u021b":"t","\u02da":"o","\u0386":"A","\u0388":"E","\u0389":"H","\u038a":"I","\u038c":"O","\u038e":"Y","\u038f":"W","\u0390":"i","\u0391":"A","\u0392":"B","\u0393":"G","\u0394":"D","\u0395":"E","\u0396":"Z","\u0397":"H","\u0398":"8","\u0399":"I","\u039a":"K","\u039b":"L","\u039c":"M","\u039d":"N","\u039e":"3","\u039f":"O","\u03a0":"P","\u03a1":"R","\u03a3":"S","\u03a4":"T","\u03a5":"Y","\u03a6":"F","\u03a7":"X","\u03a8":"PS","\u03a9":"W","\u03aa":"I","\u03ab":"Y","\u03ac":"a","\u03ad":"e","\u03ae":"h","\u03af":"i","\u03b0":"y","\u03b1":"a","\u03b2":"b","\u03b3":"g","\u03b4":"d","\u03b5":"e","\u03b6":"z","\u03b7":"h","\u03b8":"8","\u03b9":"i","\u03ba":"k","\u03bb":"l","\u03bc":"m","\u03bd":"n","\u03be":"3","\u03bf":"o","\u03c0":"p","\u03c1":"r","\u03c2":"s","\u03c3":"s","\u03c4":"t","\u03c5":"y","\u03c6":"f","\u03c7":"x","\u03c8":"ps","\u03c9":"w","\u03ca":"i","\u03cb":"y","\u03cc":"o","\u03cd":"y","\u03ce":"w","\u0401":"Yo","\u0402":"DJ","\u0404":"Ye","\u0406":"I","\u0407":"Yi","\u0408":"J","\u0409":"LJ","\u040a":"NJ","\u040b":"C","\u040f":"DZ","\u0410":"A","\u0411":"B","\u0412":"V","\u0413":"G","\u0414":"D","\u0415":"E","\u0416":"Zh","\u0417":"Z","\u0418":"I","\u0419":"J","\u041a":"K","\u041b":"L","\u041c":"M","\u041d":"N","\u041e":"O","\u041f":"P","\u0420":"R","\u0421":"S","\u0422":"T","\u0423":"U","\u0424":"F","\u0425":"H","\u0426":"C","\u0427":"Ch","\u0428":"Sh","\u0429":"Sh","\u042a":"U","\u042b":"Y","\u042c":"","\u042d":"E","\u042e":"Yu","\u042f":"Ya","\u0430":"a","\u0431":"b","\u0432":"v","\u0433":"g","\u0434":"d","\u0435":"e","\u0436":"zh","\u0437":"z","\u0438":"i","\u0439":"j","\u043a":"k","\u043b":"l","\u043c":"m","\u043d":"n","\u043e":"o","\u043f":"p","\u0440":"r","\u0441":"s","\u0442":"t","\u0443":"u","\u0444":"f","\u0445":"h","\u0446":"c","\u0447":"ch","\u0448":"sh","\u0449":"sh","\u044a":"u","\u044b":"y","\u044c":"","\u044d":"e","\u044e":"yu","\u044f":"ya","\u0451":"yo","\u0452":"dj","\u0454":"ye","\u0456":"i","\u0457":"yi","\u0458":"j","\u0459":"lj","\u045a":"nj","\u045b":"c","\u045d":"u","\u045f":"dz","\u0490":"G","\u0491":"g","\u0492":"GH","\u0493":"gh","\u049a":"KH","\u049b":"kh","\u04a2":"NG","\u04a3":"ng","\u04ae":"UE","\u04af":"ue","\u04b0":"U","\u04b1":"u","\u04ba":"H","\u04bb":"h","\u04d8":"AE","\u04d9":"ae","\u04e8":"OE","\u04e9":"oe","\u0e3f":"baht","\u10d0":"a","\u10d1":"b","\u10d2":"g","\u10d3":"d","\u10d4":"e","\u10d5":"v","\u10d6":"z","\u10d7":"t","\u10d8":"i","\u10d9":"k","\u10da":"l","\u10db":"m","\u10dc":"n","\u10dd":"o","\u10de":"p","\u10df":"zh","\u10e0":"r","\u10e1":"s","\u10e2":"t","\u10e3":"u","\u10e4":"f","\u10e5":"k","\u10e6":"gh","\u10e7":"q","\u10e8":"sh","\u10e9":"ch","\u10ea":"ts","\u10eb":"dz","\u10ec":"ts","\u10ed":"ch","\u10ee":"kh","\u10ef":"j","\u10f0":"h","\u1e80":"W","\u1e81":"w","\u1e82":"W","\u1e83":"w","\u1e84":"W","\u1e85":"w","\u1e9e":"SS","\u1ea0":"A","\u1ea1":"a","\u1ea2":"A","\u1ea3":"a","\u1ea4":"A","\u1ea5":"a","\u1ea6":"A","\u1ea7":"a","\u1ea8":"A","\u1ea9":"a","\u1eaa":"A","\u1eab":"a","\u1eac":"A","\u1ead":"a","\u1eae":"A","\u1eaf":"a","\u1eb0":"A","\u1eb1":"a","\u1eb2":"A","\u1eb3":"a","\u1eb4":"A","\u1eb5":"a","\u1eb6":"A","\u1eb7":"a","\u1eb8":"E","\u1eb9":"e","\u1eba":"E","\u1ebb":"e","\u1ebc":"E","\u1ebd":"e","\u1ebe":"E","\u1ebf":"e","\u1ec0":"E","\u1ec1":"e","\u1ec2":"E","\u1ec3":"e","\u1ec4":"E","\u1ec5":"e","\u1ec6":"E","\u1ec7":"e","\u1ec8":"I","\u1ec9":"i","\u1eca":"I","\u1ecb":"i","\u1ecc":"O","\u1ecd":"o","\u1ece":"O","\u1ecf":"o","\u1ed0":"O","\u1ed1":"o","\u1ed2":"O","\u1ed3":"o","\u1ed4":"O","\u1ed5":"o","\u1ed6":"O","\u1ed7":"o","\u1ed8":"O","\u1ed9":"o","\u1eda":"O","\u1edb":"o","\u1edc":"O","\u1edd":"o","\u1ede":"O","\u1edf":"o","\u1ee0":"O","\u1ee1":"o","\u1ee2":"O","\u1ee3":"o","\u1ee4":"U","\u1ee5":"u","\u1ee6":"U","\u1ee7":"u","\u1ee8":"U","\u1ee9":"u","\u1eea":"U","\u1eeb":"u","\u1eec":"U","\u1eed":"u","\u1eee":"U","\u1eef":"u","\u1ef0":"U","\u1ef1":"u","\u1ef2":"Y","\u1ef3":"y","\u1ef4":"Y","\u1ef5":"y","\u1ef6":"Y","\u1ef7":"y","\u1ef8":"Y","\u1ef9":"y","\u2018":"\'","\u2019":"\'","\u201c":"\\"","\u201d":"\\"","\u2020":"+","\u2022":"*","\u2026":"...","\u20a0":"ecu","\u20a2":"cruzeiro","\u20a3":"french franc","\u20a4":"lira","\u20a5":"mill","\u20a6":"naira","\u20a7":"peseta","\u20a8":"rupee","\u20a9":"won","\u20aa":"new shequel","\u20ab":"dong","\u20ac":"euro","\u20ad":"kip","\u20ae":"tugrik","\u20af":"drachma","\u20b0":"penny","\u20b1":"peso","\u20b2":"guarani","\u20b3":"austral","\u20b4":"hryvnia","\u20b5":"cedi","\u20b8":"kazakhstani tenge","\u20b9":"indian rupee","\u20bd":"russian ruble","\u20bf":"bitcoin","\u2120":"sm","\u2122":"tm","\u2202":"d","\u2206":"delta","\u2211":"sum","\u221e":"infinity","\u2665":"love","\u5143":"yuan","\u5186":"yen","\ufdfc":"rial"}'),t=JSON.parse('{"vi":{"\u0110":"D","\u0111":"d"}}');function n(n,o){if("string"!==typeof n)throw new Error("slugify: string argument expected");var r=t[(o="string"===typeof o?{replacement:o}:o||{}).locale]||{},i=n.split("").reduce((function(t,n){return t+(r[n]||e[n]||n).replace(o.remove||/[^\w\s$*_+~.()'"!\-:@]/g,"")}),"").trim().replace(/[-\s]+/g,o.replacement||"-");return o.lower?i.toLowerCase():i}return n.extend=function(t){for(var n in t)e[n]=t[n]},n},e.exports=o(),e.exports.default=o()},"5IsQ":function(e,t){var n,o,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:i}catch(e){n=i}try{o="function"===typeof clearTimeout?clearTimeout:a}catch(e){o=a}}();var c,u=[],l=!1,h=-1;function p(){l&&c&&(l=!1,c.length?u=c.concat(u):h=-1,u.length&&f())}function f(){if(!l){var e=s(p);l=!0;for(var t=u.length;t;){for(c=u,u=[];++h<t;)c&&c[h].run();h=-1,t=u.length}c=null,l=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new d(e,t)),1!==u.length||l||s(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},"5Yp1":function(e,t,n){"use strict";var o=n("mXGw"),r=n.n(o),i=n("9fEB"),a=n.n(i),s=n("nKeF"),c=r.a.createElement,u=function(){return c(r.a.Fragment,null,c("script",{async:!0,src:"https://www.googletagmanager.com/gtag/js?id=UA-154633858-1"}),c("script",{dangerouslySetInnerHTML:{__html:"\nwindow.dataLayer = window.dataLayer || [];\nfunction gtag(){dataLayer.push(arguments);}\ngtag('js', new Date());\ngtag('config', 'UA-154633858-1');\n"}}))},l=r.a.createElement,h=function(e){var t=e.pageData,n=void 0===t?{}:t;return l(a.a,null,l("link",{rel:"preconnect",href:"https://www.google-analytics.com"}),l("link",{rel:"preload",href:"https://fonts.googleapis.com/css?family=Merriweather:900,900italic,300,300italic&display=optional",as:"style"}),l("title",null,n.title||s.a.title),l("meta",{name:"description",content:n.excerpt||"Rafael Eyng's tech blog"}),l("meta",{name:"language",content:"en"}),l("meta",{name:"content-language",content:"en"}),l("meta",{name:"author",content:"Rafael Eyng"}),l("meta",{name:"keywords",content:n.keywords||"software, development, javascript, github, node, docker, blog"}),l("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),l("link",{rel:"canonical",href:"".concat(s.a.url).concat(n.url||"")}),l("link",{rel:"shortcut icon",href:"/favicon.png",type:"image/x-icon"}),l("link",{href:"https://fonts.googleapis.com/css?family=Merriweather:900,900italic,300,300italic&display=optional",rel:"stylesheet",type:"text/css"}),l(u,null))},p=n("mw9m"),f=r.a.createElement,d=function(e){var t=e.title,n=e.children;return f("header",{className:"page-header"},f("div",{className:"container single-column"},f("h1",null,t),n))},m=r.a.createElement,g=function(e){var t=e.children;return m("main",{className:"container single-column"},t)},y=(n("hBpM"),r.a.createElement);t.a=function(e){var t=e.contentTitle,n=e.contentHeader,o=e.main,i=e.pageData,a=void 0===i?{}:i;return y(r.a.Fragment,null,y(h,{pageData:a}),y(p.a,null),t&&y(d,{title:t},n),y(g,null,o))}},"5dyF":function(e,t,n){e.exports=n("9CGT")},"7Q9W":function(e,t,n){"use strict";var o=n("hmKD"),r=n.n(o),i=n("4dPn"),a=n.n(i);t.a=function(){var e=n("yPMl"),t=e.keys(),o=t.map(e);return t.map((function(e,t){var n=o[t],i=r()(n.default),s=function(e){var t=e;t.startsWith("./")&&(t=t.replace("./",""));return/^[0-9]{4}\-[0-9]{2}\-[0-9]{2}\-/.test(t)&&(t=t.substring(11)),t.endsWith(".md")&&(t=t.slice(0,-3)),a()(t,{lower:!0,remove:/[*+~.()'"!:@]/g})}(e);return delete i.orig,delete i.excerpt,delete i.isEmpty,{document:i,slug:s}})).sort((function(e,t){return new Date(t.document.data.date)-new Date(e.document.data.date)}))}},"7VSQ":function(e,t,n){var o;!function(r){"use strict";var i=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,n=/[^-+\dA-Z]/g;return function(o,r,l,h){if(1!==arguments.length||"string"!==u(o)||/\d/.test(o)||(r=o,o=void 0),(o=o||new Date)instanceof Date||(o=new Date(o)),isNaN(o))throw TypeError("Invalid date");var p=(r=String(i.masks[r]||r||i.masks.default)).slice(0,4);"UTC:"!==p&&"GMT:"!==p||(r=r.slice(4),l=!0,"GMT:"===p&&(h=!0));var f=l?"getUTC":"get",d=o[f+"Date"](),m=o[f+"Day"](),g=o[f+"Month"](),y=o[f+"FullYear"](),w=o[f+"Hours"](),v=o[f+"Minutes"](),b=o[f+"Seconds"](),k=o[f+"Milliseconds"](),x=l?0:o.getTimezoneOffset(),A=s(o),T=c(o),I={d:d,dd:a(d),ddd:i.i18n.dayNames[m],dddd:i.i18n.dayNames[m+7],m:g+1,mm:a(g+1),mmm:i.i18n.monthNames[g],mmmm:i.i18n.monthNames[g+12],yy:String(y).slice(2),yyyy:y,h:w%12||12,hh:a(w%12||12),H:w,HH:a(w),M:v,MM:a(v),s:b,ss:a(b),l:a(k,3),L:a(Math.round(k/10)),t:w<12?i.i18n.timeNames[0]:i.i18n.timeNames[1],tt:w<12?i.i18n.timeNames[2]:i.i18n.timeNames[3],T:w<12?i.i18n.timeNames[4]:i.i18n.timeNames[5],TT:w<12?i.i18n.timeNames[6]:i.i18n.timeNames[7],Z:h?"GMT":l?"UTC":(String(o).match(t)||[""]).pop().replace(n,""),o:(x>0?"-":"+")+a(100*Math.floor(Math.abs(x)/60)+Math.abs(x)%60,4),S:["th","st","nd","rd"][d%10>3?0:(d%100-d%10!=10)*d%10],W:A,N:T};return r.replace(e,(function(e){return e in I?I[e]:e.slice(1,e.length-1)}))}}();function a(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}function s(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var o=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-o);var r=(t-n)/6048e5;return 1+Math.floor(r)}function c(e){var t=e.getDay();return 0===t&&(t=7),t}function u(e){return null===e?"null":void 0===e?"undefined":"object"!==typeof e?typeof e:Array.isArray(e)?"array":{}.toString.call(e).slice(8,-1).toLowerCase()}i.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},i.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},void 0===(o=function(){return i}.call(t,n,t,e))||(e.exports=o)}()},"9CGT":function(e,t,n){"use strict";var o=n("fwM5"),r=n("bkNG"),i=n("Y8Bl"),a=n("7osH"),s=n("5YB7");function c(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var u=n("mYab"),l=n("HIQq");t.__esModule=!0,t.default=void 0;var h,p=l(n("mXGw")),f=n("ly6l"),d=n("z4BS"),m=u(n("bBV7"));function g(e){return e&&"object"===typeof e?(0,d.formatWithValidation)(e):e}var y=new Map,w=window.IntersectionObserver,v={};function b(){return h||(w?h=new w((function(e){e.forEach((function(e){if(y.has(e.target)){var t=y.get(e.target);(e.isIntersecting||e.intersectionRatio>0)&&(h.unobserve(e.target),y.delete(e.target),t())}}))}),{rootMargin:"200px"}):void 0)}var k=function(e){s(u,e);var t,n=(t=u,function(){var e,n=a(t);if(c()){var o=a(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return i(this,e)});function u(e){var t;return o(this,u),(t=n.call(this,e)).p=void 0,t.cleanUpListeners=function(){},t.formatUrls=function(e){var t=null,n=null,o=null;return function(r,i){if(o&&r===t&&i===n)return o;var a=e(r,i);return t=r,n=i,o=a,a}}((function(e,t){return{href:g(e),as:t?g(t):t}})),t.linkClicked=function(e){var n=e.currentTarget,o=n.nodeName,r=n.target;if("A"!==o||!(r&&"_self"!==r||e.metaKey||e.ctrlKey||e.shiftKey||e.nativeEvent&&2===e.nativeEvent.which)){var i=t.formatUrls(t.props.href,t.props.as),a=i.href,s=i.as;if(function(e){var t=(0,f.parse)(e,!1,!0),n=(0,f.parse)((0,d.getLocationOrigin)(),!1,!0);return!t.host||t.protocol===n.protocol&&t.host===n.host}(a)){var c=window.location.pathname;a=(0,f.resolve)(c,a),s=s?(0,f.resolve)(c,s):a,e.preventDefault();var u=t.props.scroll;null==u&&(u=s.indexOf("#")<0),m.default[t.props.replace?"replace":"push"](a,s,{shallow:t.props.shallow}).then((function(e){e&&u&&(window.scrollTo(0,0),document.body.focus())}))}}},t.p=!1!==e.prefetch,t}return r(u,[{key:"componentWillUnmount",value:function(){this.cleanUpListeners()}},{key:"getPaths",value:function(){var e=window.location.pathname,t=this.formatUrls(this.props.href,this.props.as),n=t.href,o=t.as,r=(0,f.resolve)(e,n);return[r,o?(0,f.resolve)(e,o):r]}},{key:"handleRef",value:function(e){var t=this;this.p&&w&&e&&e.tagName&&(this.cleanUpListeners(),v[this.getPaths().join("%")]||(this.cleanUpListeners=function(e,t){var n=b();return n?(n.observe(e),y.set(e,t),function(){try{n.unobserve(e)}catch(t){console.error(t)}y.delete(e)}):function(){}}(e,(function(){t.prefetch()}))))}},{key:"prefetch",value:function(e){if(this.p){var t=this.getPaths();m.default.prefetch(t[0],t[1],e).catch((function(e){0})),v[t.join("%")]=!0}}},{key:"render",value:function(){var e=this,t=this.props.children,n=this.formatUrls(this.props.href,this.props.as),o=n.href,r=n.as;"string"===typeof t&&(t=p.default.createElement("a",null,t));var i=p.Children.only(t),a={ref:function(t){e.handleRef(t),i&&"object"===typeof i&&i.ref&&("function"===typeof i.ref?i.ref(t):"object"===typeof i.ref&&(i.ref.current=t))},onMouseEnter:function(t){i.props&&"function"===typeof i.props.onMouseEnter&&i.props.onMouseEnter(t),e.prefetch({priority:!0})},onClick:function(t){i.props&&"function"===typeof i.props.onClick&&i.props.onClick(t),t.defaultPrevented||e.linkClicked(t)}};return!this.props.passHref&&("a"!==i.type||"href"in i.props)||(a.href=r||o),p.default.cloneElement(i,a)}}]),u}(p.Component);t.default=k},"9fEB":function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=o(n("mXGw")),i=o(n("GlZI")),a=n("9rrO"),s=n("bxxT"),c=n("vI6Y");function u(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[r.default.createElement("meta",{charSet:"utf-8"})];return e||t.push(r.default.createElement("meta",{name:"viewport",content:"width=device-width"})),t}function l(e,t){return"string"===typeof t||"number"===typeof t?e:t.type===r.default.Fragment?e.concat(r.default.Children.toArray(t.props.children).reduce((function(e,t){return"string"===typeof t||"number"===typeof t?e:e.concat(t)}),[])):e.concat(t)}t.defaultHead=u;var h=["name","httpEquiv","charSet","itemProp"];function p(e,t){return e.reduce((function(e,t){var n=r.default.Children.toArray(t.props.children);return e.concat(n)}),[]).reduce(l,[]).reverse().concat(u(t.inAmpMode)).filter(function(){var e=new Set,t=new Set,n=new Set,o={};return function(r){var i=!0;if(r.key&&"number"!==typeof r.key&&r.key.indexOf("$")>0){var a=r.key.slice(r.key.indexOf("$")+1);e.has(a)?i=!1:e.add(a)}switch(r.type){case"title":case"base":t.has(r.type)?i=!1:t.add(r.type);break;case"meta":for(var s=0,c=h.length;s<c;s++){var u=h[s];if(r.props.hasOwnProperty(u))if("charSet"===u)n.has(u)?i=!1:n.add(u);else{var l=r.props[u],p=o[u]||new Set;p.has(l)?i=!1:(p.add(l),o[u]=p)}}}return i}}()).reverse().map((function(e,t){var n=e.key||t;return r.default.cloneElement(e,{key:n})}))}var f=i.default();function d(e){var t=e.children;return r.default.createElement(a.AmpStateContext.Consumer,null,(function(e){return r.default.createElement(s.HeadManagerContext.Consumer,null,(function(n){return r.default.createElement(f,{reduceComponentsToState:p,handleStateChange:n,inAmpMode:c.isInAmpMode(e)},t)}))}))}d.rewind=f.rewind,t.default=d},"9rrO":function(e,t,n){"use strict";var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var r=o(n("mXGw"));t.AmpStateContext=r.createContext({})},BVMA:function(e,t,n){"use strict";var o=n("IZxv"),r=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),i=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");e.exports=new o("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(e){return null!==e&&(null!==r.exec(e)||null!==i.exec(e))},construct:function(e){var t,n,o,a,s,c,u,l,h=0,p=null;if(null===(t=r.exec(e))&&(t=i.exec(e)),null===t)throw new Error("Date resolve error");if(n=+t[1],o=+t[2]-1,a=+t[3],!t[4])return new Date(Date.UTC(n,o,a));if(s=+t[4],c=+t[5],u=+t[6],t[7]){for(h=t[7].slice(0,3);h.length<3;)h+="0";h=+h}return t[9]&&(p=6e4*(60*+t[10]+ +(t[11]||0)),"-"===t[9]&&(p=-p)),l=new Date(Date.UTC(n,o,a,s,c,u,h)),p&&l.setTime(l.getTime()-p),l},instanceOf:Date,represent:function(e){return e.toISOString()}})},D8uN:function(e,t,n){"use strict";const o=n("YO7g"),r=n("zFfO"),i=n("KGlr");e.exports=function(e){return"object"!==o(e)&&(e={content:e}),"object"!==o(e.data)&&(e.data={}),e.contents&&null==e.content&&(e.content=e.contents),i.define(e,"orig",i.toBuffer(e.content)),i.define(e,"language",e.language||""),i.define(e,"matter",e.matter||""),i.define(e,"stringify",(function(t,n){return n&&n.language&&(e.language=n.language),r(e,t,n)})),e.content=i.toString(e.content),e.isEmpty=!1,e.excerpt="",e}},DPPO:function(e,t,n){"use strict";var o=n("ymHv");e.exports=new o({explicit:[n("s+cc"),n("ukl/"),n("pWdk")]})},FaXh:function(e,t){t.read=function(e,t,n,o,r){var i,a,s=8*r-o-1,c=(1<<s)-1,u=c>>1,l=-7,h=n?r-1:0,p=n?-1:1,f=e[t+h];for(h+=p,i=f&(1<<-l)-1,f>>=-l,l+=s;l>0;i=256*i+e[t+h],h+=p,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=o;l>0;a=256*a+e[t+h],h+=p,l-=8);if(0===i)i=1-u;else{if(i===c)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,o),i-=u}return(f?-1:1)*a*Math.pow(2,i-o)},t.write=function(e,t,n,o,r,i){var a,s,c,u=8*i-r-1,l=(1<<u)-1,h=l>>1,p=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=o?0:i-1,d=o?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+h>=1?p/c:p*Math.pow(2,1-h))*c>=2&&(a++,c/=2),a+h>=l?(s=0,a=l):a+h>=1?(s=(t*c-1)*Math.pow(2,r),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,r),a=0));r>=8;e[n+f]=255&s,f+=d,s/=256,r-=8);for(a=a<<r|s,u+=r;u>0;e[n+f]=255&a,f+=d,a/=256,u-=8);e[n+f-d]|=128*m}},GlZI:function(e,t,n){"use strict";var o=n("fwM5"),r=n("0pOA"),i=n("bkNG"),a=n("Y8Bl"),s=n("7osH"),c=n("5YB7"),u=n("2LUv");function l(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}Object.defineProperty(t,"__esModule",{value:!0});var h=n("mXGw"),p=!1;t.default=function(){var e,t=new Set;function n(n){e=n.props.reduceComponentsToState(u(t),n.props),n.props.handleStateChange&&n.props.handleStateChange(e)}return function(u){c(d,u);var h,f=(h=d,function(){var e,t=s(h);if(l()){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return a(this,e)});function d(e){var i;return o(this,d),i=f.call(this,e),p&&(t.add(r(i)),n(r(i))),i}return i(d,null,[{key:"rewind",value:function(){var n=e;return e=void 0,t.clear(),n}}]),i(d,[{key:"componentDidMount",value:function(){t.add(this),n(this)}},{key:"componentDidUpdate",value:function(){n(this)}},{key:"componentWillUnmount",value:function(){t.delete(this),n(this)}},{key:"render",value:function(){return null}}]),d}(h.Component)}},H7SM:function(e,t,n){"use strict";var o=n("ymHv");e.exports=new o({include:[n("1QHI")],implicit:[n("BVMA"),n("lyIY")],explicit:[n("pa+D"),n("Uz49"),n("fzCX"),n("YGwF")]})},I3S6:function(e,t,n){"use strict";n.r(t),t.default='---\ntitle: "gRPC load balancing with grpc-go"\ndate: 2020-11-22\nkeywords: grpc, load balancing, golang, kubernetes\nexcerpt: >\n  A complete explanation of how to setup client-side gRPC load balancing using a DNS naming system.\n---\n\ngRPC poses a [known problem](https://kubernetes.io/blog/2018/11/07/grpc-load-balancing-on-kubernetes-without-tears/) for load balancing if you have an L4 load balancer in front of multiple instances of your backend gRPC server.\n\nIn short, L4 load balancers balanced at the _connection level_, which for HTTP 1.1 normally is just fine. But gRPC uses HTTP 2, where a single, long-lived connection is kept and all requests are multiplexed within it. So we would need a balancer working at the _request level_.\n\nMy team recently faced that issue, and we used an L4 balancer, in the form of a Kubernetes external service (`type: LoadBalancer`). Since changing that was not an option at the moment, we took the approach of client-side balancing, which itself was hard to set up because the documentation was somewhat lacking. We also considered using a [look-aside](https://grpc.io/blog/grpc-load-balancing/#lookaside-load-balancing) load balancer, but the client-side ended up being easier to implement and maintain.\n\n## Constraints\n\nWe needed a solution that would work well with several constraints since our system runs in a dynamic environment, where the gRPC server instances are not expected to be statically known:\n1. the client must to discover all the instances of the gRPC server and open a single, long-lived connection directly with each one (not going through the load balancer)\n3. if instances of the gRPC server are removed, the client must acknowledge that and remove those connections\n2. similarly, if new instances of the gRPC server are added, the client must create new connections with those new instances\n\n## DNS name resolution\n\nThe gRPC documentation mentions support for [DNS as the default name system](https://github.com/grpc/grpc/blob/master/doc/naming.md). It wasn\'t obvious to me at first how to benefit from this, but our co-workers who work on [Tsuru](https://github.com/tsuru/tsuru) (our PaaS that works on top of Kubernetes) suggested using a [Headless Service](https://kubernetes.io/docs/concepts/services-networking/service/#headless-services) as a way of obtaining the addresses of the Pods behind our actual Service.\n\nWe used the lib go-grpc, which we\'ve found to have support for [DNS resolver](https://github.com/grpc/grpc-go/blob/master/internal/resolver/dns/dns_resolver.go) and also for balancing requests across several instances with various strategies (we went for [round-robin](https://github.com/grpc/grpc-go/blob/master/balancer/roundrobin/roundrobin.go)).\n\nConfiguring this was not clearly documented in lib as would I expect. The two main changes we\'ve done in our client were:\n- add the `WithDefaultServiceConfig` DialOption with the load balancing policy\n- specify a DNS URI pointing to the Headless Server we\'ve mentioned\n\nThe result was like:\n```go\nimport (\n  "google.golang.org/grpc"\n)\n\nconn, err := grpc.Dial("dns:///my-headless-service:5000",\n  grpc.WithDefaultServiceConfig(`{"loadBalancingPolicy":"round_robin"}`),\n)\n```\n\nSince I could not access the Headless Service from my local machine in development (it is an intra-cluster address), I had to set up a local DNS server to experiment with this, while on production I would not specify a DNS and let the Pod use its default.\n\nNever having worked with it before, the DNS URI tricked me into some errors. First, [the documentation](https://github.com/grpc/grpc/blob/master/doc/naming.md) states that the scheme is `dns:[//authority/]host[:port]`, which makes all slashes lookup optional when you do not specify an authority (the DNS server you want to use, if not the default configured on the OS), which was my case in production.\n\nSo while I was able to make this work locally by using `dns://localhost:1053/my-headless-service:5000`, in production I first tried a naked `dns:my-headless-service:5000` and a double-slashed `dns://my-headless-service:5000` before landing on the correct triple-slashed `dns:///my-headless-service:5000`.\n\nAlso, note that the port `5000` is not important in this resolution process. It is just the port where each pod is exposing my gRPC server.\n\n## Connection Timeout on gRPC server\n\nRemember my 3 constraints? The client configuration only solves number 1.\n\nIf I remove instances of my service, it would cause connections to fail and [the client to re-resolve the names](https://github.com/grpc/grpc-go/issues/3170#issuecomment-552517779). This is default behavior of the lib and solves constraint number 2.\n\nIf everything is stable, the client never re-resolves the names and recreates new connections. So, if I double the number of instances of my service, the new ones would never receive connections and would be idle. And this fails constraint 3.\n\nTo work around this, we\'ve configured a [MAX_CONNECTION_AGE](https://github.com/grpc/proposal/blob/master/A9-server-side-conn-mgt.md):\n```go\nimport (\n  "google.golang.org/grpc"\n  "google.golang.org/grpc/keepalive"\n)\n\nopts := []grpc.ServerOption{\n  grpc.KeepaliveParams(keepalive.ServerParameters{\n  MaxConnectionAge: time.Minute * 5,\n  }),\n}\n```\n\nWhen the connection reaches its max-age, it will be closed and will trigger a re-resolve from the client. If new instances were added in the meantime, the client will see them now and open connections to them as well.\n\n## Demo\n\nI\'ve set up [a demo](https://github.com/rafaeleyng/rafaeleyng.github.io/blob/dev/examples/grpc-load-balancing/README.md) with a local DNS server to show this working.\n'},IZxv:function(e,t,n){"use strict";var o=n("+g4J"),r=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],i=["scalar","sequence","mapping"];e.exports=function(e,t){if(t=t||{},Object.keys(t).forEach((function(t){if(-1===r.indexOf(t))throw new o('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')})),this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.defaultStyle=t.defaultStyle||null,this.styleAliases=function(e){var t={};return null!==e&&Object.keys(e).forEach((function(n){e[n].forEach((function(e){t[String(e)]=n}))})),t}(t.styleAliases||null),-1===i.indexOf(this.kind))throw new o('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}},KGlr:function(e,t,n){"use strict";(function(e){const o=n("zZNL"),r=n("YO7g");t.define=function(e,t,n){Reflect.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})},t.isBuffer=e=>"buffer"===r(e),t.isObject=e=>"object"===r(e),t.toBuffer=function(t){return"string"===typeof t?e.from(t):t},t.toString=function(e){if(t.isBuffer(e))return o(String(e));if("string"!==typeof e)throw new TypeError("expected input to be a string or buffer");return o(e)},t.arrayify=function(e){return e?Array.isArray(e)?e:[e]:[]},t.startsWith=function(e,t,n){return"number"!==typeof n&&(n=t.length),e.slice(0,n)===t}}).call(this,n("zkTx").Buffer)},KlUR:function(e,t,n){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],o=t[1];return 3*(n+o)/4-o},t.toByteArray=function(e){var t,n,o=u(e),a=o[0],s=o[1],c=new i(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),l=0,h=s>0?a-4:a;for(n=0;n<h;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[l++]=255&t);1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,i=[],a=0,s=n-r;a<s;a+=16383)i.push(l(e,a,a+16383>s?s:a+16383));1===r?(t=e[n-1],i.push(o[t>>2]+o[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(o[t>>10]+o[t>>4&63]+o[t<<2&63]+"="));return i.join("")};for(var o=[],r=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)o[s]=a[s],r[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var r,i,a=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(o[(i=r)>>18&63]+o[i>>12&63]+o[i>>6&63]+o[63&i]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},MOKa:function(e,t,n){"use strict";var o=n("T9Nc"),r=n("+g4J"),i=n("TOu6"),a=n("H7SM"),s=n("McdK"),c=Object.prototype.hasOwnProperty,u=1,l=2,h=3,p=4,f=1,d=2,m=3,g=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,y=/[\x85\u2028\u2029]/,w=/[,\[\]\{\}]/,v=/^(?:!|!!|![a-z\-]+!)$/i,b=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function k(e){return Object.prototype.toString.call(e)}function x(e){return 10===e||13===e}function A(e){return 9===e||32===e}function T(e){return 9===e||32===e||10===e||13===e}function I(e){return 44===e||91===e||93===e||123===e||125===e}function S(e){var t;return 48<=e&&e<=57?e-48:97<=(t=32|e)&&t<=102?t-97+10:-1}function C(e){return 48===e?"\0":97===e?"\x07":98===e?"\b":116===e?"\t":9===e?"\t":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"\x1b":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"\x85":95===e?"\xa0":76===e?"\u2028":80===e?"\u2029":""}function E(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))}for(var j=new Array(256),R=new Array(256),M=0;M<256;M++)j[M]=C(M)?1:0,R[M]=C(M);function O(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||s,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function N(e,t){return new r(t,new i(e.filename,e.input,e.position,e.line,e.position-e.lineStart))}function _(e,t){throw N(e,t)}function L(e,t){e.onWarning&&e.onWarning.call(null,N(e,t))}var P={YAML:function(e,t,n){var o,r,i;null!==e.version&&_(e,"duplication of %YAML directive"),1!==n.length&&_(e,"YAML directive accepts exactly one argument"),null===(o=/^([0-9]+)\.([0-9]+)$/.exec(n[0]))&&_(e,"ill-formed argument of the YAML directive"),r=parseInt(o[1],10),i=parseInt(o[2],10),1!==r&&_(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=i<2,1!==i&&2!==i&&L(e,"unsupported YAML version of the document")},TAG:function(e,t,n){var o,r;2!==n.length&&_(e,"TAG directive accepts exactly two arguments"),o=n[0],r=n[1],v.test(o)||_(e,"ill-formed tag handle (first argument) of the TAG directive"),c.call(e.tagMap,o)&&_(e,'there is a previously declared suffix for "'+o+'" tag handle'),b.test(r)||_(e,"ill-formed tag prefix (second argument) of the TAG directive"),e.tagMap[o]=r}};function D(e,t,n,o){var r,i,a,s;if(t<n){if(s=e.input.slice(t,n),o)for(r=0,i=s.length;r<i;r+=1)9===(a=s.charCodeAt(r))||32<=a&&a<=1114111||_(e,"expected valid JSON character");else g.test(s)&&_(e,"the stream contains non-printable characters");e.result+=s}}function U(e,t,n,r){var i,a,s,u;for(o.isObject(n)||_(e,"cannot merge mappings; the provided source object is unacceptable"),s=0,u=(i=Object.keys(n)).length;s<u;s+=1)a=i[s],c.call(t,a)||(t[a]=n[a],r[a]=!0)}function Y(e,t,n,o,r,i,a,s){var u,l;if(Array.isArray(r))for(u=0,l=(r=Array.prototype.slice.call(r)).length;u<l;u+=1)Array.isArray(r[u])&&_(e,"nested arrays are not supported inside keys"),"object"===typeof r&&"[object Object]"===k(r[u])&&(r[u]="[object Object]");if("object"===typeof r&&"[object Object]"===k(r)&&(r="[object Object]"),r=String(r),null===t&&(t={}),"tag:yaml.org,2002:merge"===o)if(Array.isArray(i))for(u=0,l=i.length;u<l;u+=1)U(e,t,i[u],n);else U(e,t,i,n);else e.json||c.call(n,r)||!c.call(t,r)||(e.line=a||e.line,e.position=s||e.position,_(e,"duplicated mapping key")),t[r]=i,delete n[r];return t}function F(e){var t;10===(t=e.input.charCodeAt(e.position))?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):_(e,"a line break is expected"),e.line+=1,e.lineStart=e.position}function B(e,t,n){for(var o=0,r=e.input.charCodeAt(e.position);0!==r;){for(;A(r);)r=e.input.charCodeAt(++e.position);if(t&&35===r)do{r=e.input.charCodeAt(++e.position)}while(10!==r&&13!==r&&0!==r);if(!x(r))break;for(F(e),r=e.input.charCodeAt(e.position),o++,e.lineIndent=0;32===r;)e.lineIndent++,r=e.input.charCodeAt(++e.position)}return-1!==n&&0!==o&&e.lineIndent<n&&L(e,"deficient indentation"),o}function H(e){var t,n=e.position;return!(45!==(t=e.input.charCodeAt(n))&&46!==t||t!==e.input.charCodeAt(n+1)||t!==e.input.charCodeAt(n+2)||(n+=3,0!==(t=e.input.charCodeAt(n))&&!T(t)))}function W(e,t){1===t?e.result+=" ":t>1&&(e.result+=o.repeat("\n",t-1))}function G(e,t){var n,o,r=e.tag,i=e.anchor,a=[],s=!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=a),o=e.input.charCodeAt(e.position);0!==o&&45===o&&T(e.input.charCodeAt(e.position+1));)if(s=!0,e.position++,B(e,!0,-1)&&e.lineIndent<=t)a.push(null),o=e.input.charCodeAt(e.position);else if(n=e.line,z(e,t,h,!1,!0),a.push(e.result),B(e,!0,-1),o=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&0!==o)_(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return!!s&&(e.tag=r,e.anchor=i,e.kind="sequence",e.result=a,!0)}function J(e){var t,n,o,r,i=!1,a=!1;if(33!==(r=e.input.charCodeAt(e.position)))return!1;if(null!==e.tag&&_(e,"duplication of a tag property"),60===(r=e.input.charCodeAt(++e.position))?(i=!0,r=e.input.charCodeAt(++e.position)):33===r?(a=!0,n="!!",r=e.input.charCodeAt(++e.position)):n="!",t=e.position,i){do{r=e.input.charCodeAt(++e.position)}while(0!==r&&62!==r);e.position<e.length?(o=e.input.slice(t,e.position),r=e.input.charCodeAt(++e.position)):_(e,"unexpected end of the stream within a verbatim tag")}else{for(;0!==r&&!T(r);)33===r&&(a?_(e,"tag suffix cannot contain exclamation marks"):(n=e.input.slice(t-1,e.position+1),v.test(n)||_(e,"named tag handle cannot contain such characters"),a=!0,t=e.position+1)),r=e.input.charCodeAt(++e.position);o=e.input.slice(t,e.position),w.test(o)&&_(e,"tag suffix cannot contain flow indicator characters")}return o&&!b.test(o)&&_(e,"tag name cannot contain such characters: "+o),i?e.tag=o:c.call(e.tagMap,n)?e.tag=e.tagMap[n]+o:"!"===n?e.tag="!"+o:"!!"===n?e.tag="tag:yaml.org,2002:"+o:_(e,'undeclared tag handle "'+n+'"'),!0}function q(e){var t,n;if(38!==(n=e.input.charCodeAt(e.position)))return!1;for(null!==e.anchor&&_(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!T(n)&&!I(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&_(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function z(e,t,n,r,i){var a,s,g,y,w,v,b,k,C=1,M=!1,O=!1;if(null!==e.listener&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,a=s=g=p===n||h===n,r&&B(e,!0,-1)&&(M=!0,e.lineIndent>t?C=1:e.lineIndent===t?C=0:e.lineIndent<t&&(C=-1)),1===C)for(;J(e)||q(e);)B(e,!0,-1)?(M=!0,g=a,e.lineIndent>t?C=1:e.lineIndent===t?C=0:e.lineIndent<t&&(C=-1)):g=!1;if(g&&(g=M||i),1!==C&&p!==n||(b=u===n||l===n?t:t+1,k=e.position-e.lineStart,1===C?g&&(G(e,k)||function(e,t,n){var o,r,i,a,s,c=e.tag,u=e.anchor,h={},f={},d=null,m=null,g=null,y=!1,w=!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=h),s=e.input.charCodeAt(e.position);0!==s;){if(o=e.input.charCodeAt(e.position+1),i=e.line,a=e.position,63!==s&&58!==s||!T(o)){if(!z(e,n,l,!1,!0))break;if(e.line===i){for(s=e.input.charCodeAt(e.position);A(s);)s=e.input.charCodeAt(++e.position);if(58===s)T(s=e.input.charCodeAt(++e.position))||_(e,"a whitespace character is expected after the key-value separator within a block mapping"),y&&(Y(e,h,f,d,m,null),d=m=g=null),w=!0,y=!1,r=!1,d=e.tag,m=e.result;else{if(!w)return e.tag=c,e.anchor=u,!0;_(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!w)return e.tag=c,e.anchor=u,!0;_(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===s?(y&&(Y(e,h,f,d,m,null),d=m=g=null),w=!0,y=!0,r=!0):y?(y=!1,r=!0):_(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,s=o;if((e.line===i||e.lineIndent>t)&&(z(e,t,p,!0,r)&&(y?m=e.result:g=e.result),y||(Y(e,h,f,d,m,g,i,a),d=m=g=null),B(e,!0,-1),s=e.input.charCodeAt(e.position)),e.lineIndent>t&&0!==s)_(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return y&&Y(e,h,f,d,m,null),w&&(e.tag=c,e.anchor=u,e.kind="mapping",e.result=h),w}(e,k,b))||function(e,t){var n,o,r,i,a,s,c,l,h,p,f=!0,d=e.tag,m=e.anchor,g={};if(91===(p=e.input.charCodeAt(e.position)))r=93,s=!1,o=[];else{if(123!==p)return!1;r=125,s=!0,o={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=o),p=e.input.charCodeAt(++e.position);0!==p;){if(B(e,!0,t),(p=e.input.charCodeAt(e.position))===r)return e.position++,e.tag=d,e.anchor=m,e.kind=s?"mapping":"sequence",e.result=o,!0;f||_(e,"missed comma between flow collection entries"),h=null,i=a=!1,63===p&&T(e.input.charCodeAt(e.position+1))&&(i=a=!0,e.position++,B(e,!0,t)),n=e.line,z(e,t,u,!1,!0),l=e.tag,c=e.result,B(e,!0,t),p=e.input.charCodeAt(e.position),!a&&e.line!==n||58!==p||(i=!0,p=e.input.charCodeAt(++e.position),B(e,!0,t),z(e,t,u,!1,!0),h=e.result),s?Y(e,o,g,l,c,h):i?o.push(Y(e,null,g,l,c,h)):o.push(c),B(e,!0,t),44===(p=e.input.charCodeAt(e.position))?(f=!0,p=e.input.charCodeAt(++e.position)):f=!1}_(e,"unexpected end of the stream within a flow collection")}(e,b)?O=!0:(s&&function(e,t){var n,r,i,a,s,c=f,u=!1,l=!1,h=t,p=0,g=!1;if(124===(a=e.input.charCodeAt(e.position)))r=!1;else{if(62!==a)return!1;r=!0}for(e.kind="scalar",e.result="";0!==a;)if(43===(a=e.input.charCodeAt(++e.position))||45===a)f===c?c=43===a?m:d:_(e,"repeat of a chomping mode identifier");else{if(!((i=48<=(s=a)&&s<=57?s-48:-1)>=0))break;0===i?_(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?_(e,"repeat of an indentation width identifier"):(h=t+i-1,l=!0)}if(A(a)){do{a=e.input.charCodeAt(++e.position)}while(A(a));if(35===a)do{a=e.input.charCodeAt(++e.position)}while(!x(a)&&0!==a)}for(;0!==a;){for(F(e),e.lineIndent=0,a=e.input.charCodeAt(e.position);(!l||e.lineIndent<h)&&32===a;)e.lineIndent++,a=e.input.charCodeAt(++e.position);if(!l&&e.lineIndent>h&&(h=e.lineIndent),x(a))p++;else{if(e.lineIndent<h){c===m?e.result+=o.repeat("\n",u?1+p:p):c===f&&u&&(e.result+="\n");break}for(r?A(a)?(g=!0,e.result+=o.repeat("\n",u?1+p:p)):g?(g=!1,e.result+=o.repeat("\n",p+1)):0===p?u&&(e.result+=" "):e.result+=o.repeat("\n",p):e.result+=o.repeat("\n",u?1+p:p),u=!0,l=!0,p=0,n=e.position;!x(a)&&0!==a;)a=e.input.charCodeAt(++e.position);D(e,n,e.position,!1)}}return!0}(e,b)||function(e,t){var n,o,r;if(39!==(n=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,o=r=e.position;0!==(n=e.input.charCodeAt(e.position));)if(39===n){if(D(e,o,e.position,!0),39!==(n=e.input.charCodeAt(++e.position)))return!0;o=e.position,e.position++,r=e.position}else x(n)?(D(e,o,r,!0),W(e,B(e,!1,t)),o=r=e.position):e.position===e.lineStart&&H(e)?_(e,"unexpected end of the document within a single quoted scalar"):(e.position++,r=e.position);_(e,"unexpected end of the stream within a single quoted scalar")}(e,b)||function(e,t){var n,o,r,i,a,s,c;if(34!==(s=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,n=o=e.position;0!==(s=e.input.charCodeAt(e.position));){if(34===s)return D(e,n,e.position,!0),e.position++,!0;if(92===s){if(D(e,n,e.position,!0),x(s=e.input.charCodeAt(++e.position)))B(e,!1,t);else if(s<256&&j[s])e.result+=R[s],e.position++;else if((a=120===(c=s)?2:117===c?4:85===c?8:0)>0){for(r=a,i=0;r>0;r--)(a=S(s=e.input.charCodeAt(++e.position)))>=0?i=(i<<4)+a:_(e,"expected hexadecimal character");e.result+=E(i),e.position++}else _(e,"unknown escape sequence");n=o=e.position}else x(s)?(D(e,n,o,!0),W(e,B(e,!1,t)),n=o=e.position):e.position===e.lineStart&&H(e)?_(e,"unexpected end of the document within a double quoted scalar"):(e.position++,o=e.position)}_(e,"unexpected end of the stream within a double quoted scalar")}(e,b)?O=!0:!function(e){var t,n,o;if(42!==(o=e.input.charCodeAt(e.position)))return!1;for(o=e.input.charCodeAt(++e.position),t=e.position;0!==o&&!T(o)&&!I(o);)o=e.input.charCodeAt(++e.position);return e.position===t&&_(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),e.anchorMap.hasOwnProperty(n)||_(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],B(e,!0,-1),!0}(e)?function(e,t,n){var o,r,i,a,s,c,u,l,h=e.kind,p=e.result;if(T(l=e.input.charCodeAt(e.position))||I(l)||35===l||38===l||42===l||33===l||124===l||62===l||39===l||34===l||37===l||64===l||96===l)return!1;if((63===l||45===l)&&(T(o=e.input.charCodeAt(e.position+1))||n&&I(o)))return!1;for(e.kind="scalar",e.result="",r=i=e.position,a=!1;0!==l;){if(58===l){if(T(o=e.input.charCodeAt(e.position+1))||n&&I(o))break}else if(35===l){if(T(e.input.charCodeAt(e.position-1)))break}else{if(e.position===e.lineStart&&H(e)||n&&I(l))break;if(x(l)){if(s=e.line,c=e.lineStart,u=e.lineIndent,B(e,!1,-1),e.lineIndent>=t){a=!0,l=e.input.charCodeAt(e.position);continue}e.position=i,e.line=s,e.lineStart=c,e.lineIndent=u;break}}a&&(D(e,r,i,!1),W(e,e.line-s),r=i=e.position,a=!1),A(l)||(i=e.position+1),l=e.input.charCodeAt(++e.position)}return D(e,r,i,!1),!!e.result||(e.kind=h,e.result=p,!1)}(e,b,u===n)&&(O=!0,null===e.tag&&(e.tag="?")):(O=!0,null===e.tag&&null===e.anchor||_(e,"alias node should not have any properties")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===C&&(O=g&&G(e,k))),null!==e.tag&&"!"!==e.tag)if("?"===e.tag){for(y=0,w=e.implicitTypes.length;y<w;y+=1)if((v=e.implicitTypes[y]).resolve(e.result)){e.result=v.construct(e.result),e.tag=v.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else c.call(e.typeMap[e.kind||"fallback"],e.tag)?(v=e.typeMap[e.kind||"fallback"][e.tag],null!==e.result&&v.kind!==e.kind&&_(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+v.kind+'", not "'+e.kind+'"'),v.resolve(e.result)?(e.result=v.construct(e.result),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):_(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")):_(e,"unknown tag !<"+e.tag+">");return null!==e.listener&&e.listener("close",e),null!==e.tag||null!==e.anchor||O}function K(e){var t,n,o,r,i=e.position,a=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap={},e.anchorMap={};0!==(r=e.input.charCodeAt(e.position))&&(B(e,!0,-1),r=e.input.charCodeAt(e.position),!(e.lineIndent>0||37!==r));){for(a=!0,r=e.input.charCodeAt(++e.position),t=e.position;0!==r&&!T(r);)r=e.input.charCodeAt(++e.position);for(o=[],(n=e.input.slice(t,e.position)).length<1&&_(e,"directive name must not be less than one character in length");0!==r;){for(;A(r);)r=e.input.charCodeAt(++e.position);if(35===r){do{r=e.input.charCodeAt(++e.position)}while(0!==r&&!x(r));break}if(x(r))break;for(t=e.position;0!==r&&!T(r);)r=e.input.charCodeAt(++e.position);o.push(e.input.slice(t,e.position))}0!==r&&F(e),c.call(P,n)?P[n](e,n,o):L(e,'unknown document directive "'+n+'"')}B(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,B(e,!0,-1)):a&&_(e,"directives end mark is expected"),z(e,e.lineIndent-1,p,!1,!0),B(e,!0,-1),e.checkLineBreaks&&y.test(e.input.slice(i,e.position))&&L(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&H(e)?46===e.input.charCodeAt(e.position)&&(e.position+=3,B(e,!0,-1)):e.position<e.length-1&&_(e,"end of the stream or a document separator is expected")}function Z(e,t){t=t||{},0!==(e=String(e)).length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var n=new O(e,t);for(n.input+="\0";32===n.input.charCodeAt(n.position);)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)K(n);return n.documents}function V(e,t,n){var o,r,i=Z(e,n);if("function"!==typeof t)return i;for(o=0,r=i.length;o<r;o+=1)t(i[o])}function X(e,t){var n=Z(e,t);if(0!==n.length){if(1===n.length)return n[0];throw new r("expected a single document in the stream, but found more")}}e.exports.loadAll=V,e.exports.load=X,e.exports.safeLoadAll=function(e,t,n){if("function"!==typeof t)return V(e,o.extend({schema:a},n));V(e,t,o.extend({schema:a},n))},e.exports.safeLoad=function(e,t){return X(e,o.extend({schema:a},t))}},McdK:function(e,t,n){"use strict";var o=n("ymHv");e.exports=o.DEFAULT=new o({include:[n("H7SM")],explicit:[n("/SCz"),n("e/PF"),n("3/5K")]})},N5DK:function(e,t,n){"use strict";const o=n("aKDY"),r=n("Nvau");e.exports=function(e,t,n){const i=r(n),a=o(e,i);if("function"!==typeof a.parse)throw new TypeError('expected "'+e+'.parse" to be a function');return a.parse(t,i)}},NSjK:function(e,t,n){"use strict";n.r(t),t.default="---\ntitle: \"Monitoring Your Application Status With Cabot\"\ndate: 2016-11-19T19:05:26-02:00\nkeywords: cabot, monitoring, status, ping\nexcerpt: >\n  How to setup a status check for your applications\n---\n\nCabot is a application monitoring service. Basically a system that you deploy to your own infrastructure and configure it to check the URLs of your applications at a given interval, and possibly enable some kind of alert when things go down.\n\nIt looks like this:\n\n![screen shot 2016-11-19 at 11 23 48 pm](https://cloud.githubusercontent.com/assets/4842605/20459783/9930e04a-aeb5-11e6-8fed-1ab2aa866d95.png)\n\nThere's a lot of services that offer similar functionality ([Pingdom](https://www.pingdom.com/), [Uptime Robot](https://uptimerobot.com/)), but Cabot is self-hosted, open-source and free, so you don't have to worry about constraints like a minimum check interval or a maximum number of applications that you can monitor.\n\nThis is a pretty basic \"get started\" that shows how to quickly get Cabot working. I will show only one way of doing each thing.\n\n## Installation\n\nInstall with docker, using [cabot-docker](https://github.com/shoonoise/cabot-docker):\n\n1. Install docker + docker-compose.\n\n1. `git clone https://github.com/shoonoise/cabot-docker.git`\n\n1. `cd cabot-docker` and take a look at `cabot_env` file. There's a lot of variables you can define there to configure your alerts and other integrations, just comment all of them so we don't have invalid values later.\n\n1. `docker-compose up -d`\n\nIt should go up on port 8080 (change it on docker-compose.yml if you want). The default credentials are docker/docker.\n\n## Concepts\n\n3 major concepts in Cabot: check, instance and service.\n\n**Check** is some particular task you want to run to check something. Checks can be of some predefined types, like:\n  - ping: a ping to a host\n  - HTTP: call an URL and check the HTTP status.\n\n**Instance** is an actual instance of a machine that will have some service running. It will have a IP/hostname.\n\n**Service** is the macro stuff you want to monitor.\n\nCabot's documentation is pretty obscure about those concepts, so here is my take on how to use them.\n\n## Configuring\n\nThere's an N-N relationship between those 3 entities, so it can be pretty confusing how to organize and relate everything. This post is pretty opinionated about how to do it.\n\nYou can have a **service** with multiple **instances**, and multiple **checks** pointing to each instance.\n\nI'm using Cabot to monitor both my front-end servers and my API, of multiple applications, running each on multiple servers.\n\nI start by creating my **instances**. Every newly created instance will have an IP/hostname, and will automatically create a ping **check** to it. For each instance, I create an HTTP **check** that checks for HTTP status and some text match on the return. Then I create a **service** and group on it all of its instances.\n\n## Automating\n\nClicking is tedious, error prone and slow. Mostly, it is the wrong way.\n\nUnfortunately, Cabot doesn't have a REST API that we can use to configure our services automatically.\n\nThe way I see it, we have 2 options:\n\n- [Edit 2016-12-23: deprecated. See cabot-db-config bellow] I've created [cabot-zombie](https://github.com/rafaeleyng/cabot-zombie), that spins up a headless browser and configures Cabot based on a Javascript object. Check out the project for more details.\n\n- Access the Postgres instance that Cabot uses and make some inserts directly. The tables involved are:\n  - cabotapp_instance_status_checks\n  - cabotapp_instance\n  - cabotapp_instancestatussnapshot\n  - cabotapp_service_instances\n  - cabotapp_service_status_checks\n  - cabotapp_service\n  - cabotapp_servicestatussnapshot\n  - cabotapp_statuscheck\n  - cabotapp_statuscheckresult\n\n- I've created [cabot-db-config](https://www.npmjs.com/package/cabot-db-config), which uses a configuration similar to cabot-zombie, but is way faster and more reliable, because it connects directly to your Cabot database to insert the configuration.\n\nActually what I use currently is cabot-db-config to create stuff, and if I want to change something, I just delete everything from the tables above and rerun cabot-zombie with my changes.\n"},NthX:function(e,t,n){e.exports=n("wcNg")},Nvau:function(e,t,n){"use strict";const o=n("heae"),r=n("KGlr");e.exports=function(e){const t=Object.assign({},e);return t.delimiters=r.arrayify(t.delims||t.delimiters||"---"),1===t.delimiters.length&&t.delimiters.push(t.delimiters[0]),t.language=(t.language||t.lang||"yaml").toLowerCase(),t.engines=Object.assign({},o,t.parsers,t.engines),t}},PHhV:function(e,t,n){"use strict";n.r(t),t.default='---\ntitle: "Using Nexus 3 as Your Repository - Part 3: Docker Images"\ndate: 2017-01-07T17:37:14-02:00\nkeywords: nexus, repository, private, proxy, docker\nexcerpt: >\n  In this third post of the series, we will setup Nexus 3 to use it as Docker private registry and as a proxy to Docker Hub.\n---\n\n<p><small>\nThis is the third and last part of a series of posts on Nexus 3 and how to use it as repository for several technologies.\n</small></p>\n\n## Installation\n\nCheck out the [first part](https://rafaeleyng.github.io/using-nexus-3-as-your-repository-part-1-maven-artifacts/) of this series to see how we installed and ran Nexus 3 using a single docker command. Just do that and the installation is done.\n\n## Configuring Nexus as a Docker repo\n\nWhat we will do:\n  - create a private (hosted) repository for our own images\n  - create a proxy repository pointing to Docker Hub\n  - create a group repository to provide all the above repos under a single URL\n\nI suggest you to create a new blob store for each new repo you want to create. That way, the data for every repo will be in a different folder in `/nexus-data` (inside the Docker container). But this is not mandatory for it to work.\n\nBy default, the Docker client communicates with the repo using HTTPS. In my use case I had to configure it with HTTP, because we didn\u2019t have the certificate nor the knowledge on how to obtain it.\n\nImportant to notice: the Docker repo requires 2 different ports. We are going to use 8082 for pull from the proxy repo and 8083 for pull and push to the private repo.\n\nI had some problems with slightly older versions of Docker, so I strongly suggesting you to start with the version that I\u2019ve tested with, that is `1.12.3`.\n\n### private repo\n\nA repository for Docker images that your team creates.\n\nCreate a new Docker (hosted) repository and configure it like:\n\n![docker-private](https://cloud.githubusercontent.com/assets/4842605/21745036/25e11fc2-d509-11e6-85f6-6b6e016c174e.png)\n\n### proxy repo\n\nA repository that proxies everything you download from the official registry, Docker Hub. Next time you download the same dependency, it will be cached in your Nexus.\n\nCreate a new Docker (proxy) repository and configure it like:\n\n![docker-hub0](https://cloud.githubusercontent.com/assets/4842605/21745035/25daf822-d509-11e6-892b-11f79943f96b.png)\n\n![docker-hub1](https://cloud.githubusercontent.com/assets/4842605/21745034/25d9eebe-d509-11e6-9e28-fd7f63b4ae89.png)\n\n### group repo\n\nThis will group all the above repos and provide you a single URL to configure your clients to download from/deploy to.\n\nCreate a new Docker (group) repository and configure it like:\n\n![docker-group0](https://cloud.githubusercontent.com/assets/4842605/21745032/25a805de-d509-11e6-80c4-989500a2d579.png)\n\n![docker-group1](https://cloud.githubusercontent.com/assets/4842605/21745033/25c7919c-d509-11e6-89d2-88d631f343ee.png)\n\nYou can create as many repos as you need and group them all in the group repo.\n\nThis step is actually optional to use Nexus 3 as a Docker repository, because we can stick to pulling and pushing to the proxy and hosted repositories as will be discussed later.\n\n## Configuring your clients and projects to use your Nexus repos\n\nTo interact with your repo, the first thing is to configure the Docker daemon in your machine to accept working with HTTP instead of HTTPS.\n\nHow exactly to do this config depends on your operating system, so you should check [dockerd](https://docs.docker.com/engine/reference/commandline/dockerd/) documentation. On RHEL I did it putting this content in `/etc/docker/daemon.json`:\n\n```\n{\n  "insecure-registries": [\n    "your-repo:8082",\n    "your-repo:8083"\n  ],\n  "disable-legacy-registry": true\n}\n```\n\nYou have to restart the daemon after setting this (`sudo systemctl restart docker`).\n\nOn Windows or Mac you should config your deamon in a box like this:\n\n![daemon](https://cloud.githubusercontent.com/assets/4842605/21745349/f8af75b4-d510-11e6-8383-c3594b525ea4.png)\n\nNow we have to authenticate your machine to the repo with:\n\n```\ndocker login -u admin -p admin123 your-repo:8082\ndocker login -u admin -p admin123 your-repo:8083\n```\n\nRemember the default Nexus credentials, `admin/admin123`. This will create an entry in `~/.docker/config.json`:\n\n```\n{\n\t"auths": {\n\t\t"your-repo:8082": {\n\t\t\t"auth": "YWRtaW46YWRtaW4xMjM="\n\t\t},\n\t\t"your-repo:8083": {\n\t\t\t"auth": "YWRtaW46YWRtaW4xMjM="\n\t\t}\n}\n```\n\nTo pull images from your repo, use (notice port 8082 being used):\n\n```\ndocker pull your-repo:8082/httpd:2.4-alpine\n```\n\nTo push your own images to your repo, you have to tag the image with a tag that points to the repo. This is strange to me, since I was trying to think about Docker tags the same way I do about Git tags, but they seem be somewhat different (notice port 8083 being used):\n\n```\ndocker tag your-own-image:1 your-repo:8083/your-own-image:1\ndocker push your-repo:8083/your-own-image:1\n```\n\nTo pull your own images from the repo, you can use:\n\n```\ndocker tag your-own-image:1 your-repo:8082/your-own-image:1\n# or\ndocker tag your-own-image:1 your-repo:8083/your-own-image:1\n```\n\nBoth ports will work. I suspect that is because using port 8083 will connect directly to the hosted repo, whilst using port 8082 will connect to the group repo, which contains the hosted repo. I suggest you to stick to port 8083 to avoid duplicate images in your machines. If you chose to stick with port 8083 to pull your own images, you probably could skip creating the group repo, if you prefer.\n'},R5bF:function(e,t,n){"use strict";n.r(t),t.default='---\ntitle: "Using Nexus 3 as Your Repository - Part 2: Npm Packages"\ndate: 2016-12-03T19:31:27-02:00\nkeywords: nexus, repository, private, proxy, npm\nexcerpt: >\n  In this second post of the series, I\'ll show you how to setup Nexus 3 and configure it to use it as a private npm registry and as a proxy to the official registry.\n---\n\n<small>\nThis is the second part of a series of posts on Nexus 3 and how to use it as repository for several technologies.\n</small>\n\n`npm install` can take too long sometimes, so it might be a good idea to have a proxy in your own network. And if you can\'t just pay the 7 dollars/month to host your packages in the official npm private registry, then you\'ll probably benefit from this post.\n\n## Installation\n\nCheck out the [first part](https://rafaeleyng.github.io/using-nexus-3-as-your-repository-part-1-maven-artifacts/) of this series to see how we installed and ran Nexus 3 using a single docker command. Just do that and the installation is done.\n\n## Configuring Nexus as a npm repo\n\nWhat we will do:\n  - create a private (hosted) repository for our own packages\n  - create a proxy repository pointing to the official registry\n  - create a group repository to provide all the above repos under a single URL\n\nI suggest you to create a new blob store for each new repo you want to create. That way, the data for every repo will be in a different folder in `/nexus-data` (inside the Docker container). But this is not mandatory for it to work.\n\n### private repo\n\nA repository for npm packages that your team develops.\n\nCreate a new npm (hosted) repository and configure it like:\n\n![npm-private0](https://cloud.githubusercontent.com/assets/4842605/20909966/d6f8101e-bb45-11e6-9791-0f2472866fdd.png)\n\nThe deployment policy "Allow redeploy" above might look somewhat polemic, so you might want to set it to "Disable redeploy". In my use case, it makes sense to use "Allow redeploy", since we keep a `latest` version on Nexus always updated with the status of the master branch, that is redeployed in our CI flow.\n\n### proxy repo\n\nA repository that proxies everything you download from the official npm registry. Next time you download the same dependency, it will be cached in your Nexus.\n\nCreate a new npm (proxy) repository and configure it like:\n\n![npm-registry0](https://cloud.githubusercontent.com/assets/4842605/20909964/d6f6568e-bb45-11e6-9161-6e302ed1757f.png)\n\n![npm-registry1](https://cloud.githubusercontent.com/assets/4842605/20909965/d6f7e9ea-bb45-11e6-86f1-c6ce957bf948.png)\n\n### group repo\n\nThis will group all the above repos and provide you a single URL to configure your clients to download from/deploy to.\n\nCreate a new npm (group) repository and configure it like:\n\n![npm-group0](https://cloud.githubusercontent.com/assets/4842605/20909963/d6f41e32-bb45-11e6-9134-848409b5d781.png)\n\nYou can create as many repos as you need and group them all in the group repo, but for npm I don\'t think that you will need more than 1 proxy and 1 private repos.\n\n## Configuring your clients and projects to use your Nexus repos\n\nFor npm, we will configure the repository per project (unlike Maven, that have some global configs, for instance). I believe that you can configure the authentication globally in your machine, with `npm addUser`, but I didn\'t went that way for simplicity.\n\nIf you have a project where you only want to **download** dependencies from Nexus, create a `.npmrc` file at your project\'s root with:\n\n```\nregistry=http://your-host:8081/repository/npm-group/\n_auth=YWRtaW46YWRtaW4xMjM=\n```\n\n`_auth=YWRtaW46YWRtaW4xMjM=` is the base64 hash for the credentials (admin/admin123). If you use a different set of credentials, you should compute your own hash with:\n\n```\necho -n \'myuser:mypassword\' | openssl base64\n```\n\nYou have to set a user so you can publish packages. If you do this from your local machine, `npm publish` will use your user configured in `~/.npmrc` (in your home, not in your project). If you don\'t have this configuration, or if you want to publish from CI, you can set an `email=any@email.com` configuration in your project\'s `.npmrc`. Really, any email.\n\nIf you have a project that you want to **publish** to your Nexus, put this in `package.json`:\n\n```\n{\n  ...\n\n  "publishConfig": {\n    "registry": "http://your-host:8081/repository/npm-private/"\n  }\n}\n```\n\nNote that you publish to your private repo, but when you download, you can point to your group repo, so both your own packages and the packages from the official repo will be available from a single URL.\n\nNow if you run in your projects:\n\n```\nnpm install\n# or\nnpm publish\n```\n\nyour `npm` will point to your Nexus instance.\n\n## Installing npm packages globally\n\nRun:\n\n```\nnpm --registry http://your-host:8081/repository/npm-group/ install -g your-package\n```\n'},SFco:function(e,t,n){"use strict";e.exports=function(e){return"undefined"!==typeof e&&null!==e&&("object"===typeof e||"function"===typeof e)}},T9Nc:function(e,t,n){"use strict";function o(e){return"undefined"===typeof e||null===e}e.exports.isNothing=o,e.exports.isObject=function(e){return"object"===typeof e&&null!==e},e.exports.toArray=function(e){return Array.isArray(e)?e:o(e)?[]:[e]},e.exports.repeat=function(e,t){var n,o="";for(n=0;n<t;n+=1)o+=e;return o},e.exports.isNegativeZero=function(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e},e.exports.extend=function(e,t){var n,o,r,i;if(t)for(n=0,o=(i=Object.keys(t)).length;n<o;n+=1)e[r=i[n]]=t[r];return e}},TOu6:function(e,t,n){"use strict";var o=n("T9Nc");function r(e,t,n,o,r){this.name=e,this.buffer=t,this.position=n,this.line=o,this.column=r}r.prototype.getSnippet=function(e,t){var n,r,i,a,s;if(!this.buffer)return null;for(e=e||4,t=t||75,n="",r=this.position;r>0&&-1==="\0\r\n\x85\u2028\u2029".indexOf(this.buffer.charAt(r-1));)if(r-=1,this.position-r>t/2-1){n=" ... ",r+=5;break}for(i="",a=this.position;a<this.buffer.length&&-1==="\0\r\n\x85\u2028\u2029".indexOf(this.buffer.charAt(a));)if((a+=1)-this.position>t/2-1){i=" ... ",a-=5;break}return s=this.buffer.slice(r,a),o.repeat(" ",e)+n+s+i+"\n"+o.repeat(" ",e+this.position-r+n.length)+"^"},r.prototype.toString=function(e){var t,n="";return this.name&&(n+='in "'+this.name+'" '),n+="at line "+(this.line+1)+", column "+(this.column+1),e||(t=this.getSnippet())&&(n+=":\n"+t),n},e.exports=r},UYa7:function(e,t,n){"use strict";var o=n("aDMY");e.exports=o},Uz49:function(e,t,n){"use strict";var o=n("IZxv"),r=Object.prototype.hasOwnProperty,i=Object.prototype.toString;e.exports=new o("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,n,o,a,s,c=[],u=e;for(t=0,n=u.length;t<n;t+=1){if(o=u[t],s=!1,"[object Object]"!==i.call(o))return!1;for(a in o)if(r.call(o,a)){if(s)return!1;s=!0}if(!s)return!1;if(-1!==c.indexOf(a))return!1;c.push(a)}return!0},construct:function(e){return null!==e?e:[]}})},Vn7P:function(e,t,n){"use strict";n.r(t),t.default='---\ntitle: "Redis: Replication and Partitioning"\ndate: 2019-11-25\nkeywords: redis, replication, partitioning, distributed system\nexcerpt: >\n  Replication and partitioning are techniques that build the foundation of using Redis as a distributed system, and prepare the way for more complex abstractions like Redis Sentinel and Redis Cluster\n---\n\nReplication and partitioning are techniques that build the foundation of using Redis as a distributed system. In this post they will be examined as very basic building blocks. For more complex needs, there are more complex abstractions, like Redis Sentinel and Redis Cluster, that build upon these building blocks.\n\n## Replication\n\nReplication means keeping multiple copies of the same data, so in case we lose one of the copies, we still can recover the data from the other copies. Here we will analyze Redis replication at its most basic level.\n\nRedis provides a basic *leader follower* replication, allowing us to have a master-replica setup. We can have one or multiple replicas for some master. This is done on the configuration file of the replica instances, using the configuration:\n\n```\nreplicaof "my-master-hostname" "6379"\n```\n\nIf you are using authentication on your Redis setup, you\'ll need some extra configuration to specify the password.\n\nOnce the configuration is done, each replica will stay connected to the master and receive from the master a stream of commands to create its own local copy of the dataset.\n\n### Benefits of replication\n\nThis basic replication setup has the immediate benefit of improving data safety. If you happen to lose the data on your master, you still can recover the data from your replicas. (only what was already sent to the replicas before the failure) If a replica fails or loses connection to the master, it will automatically resynchronize its data with the master once the connection is recovered. So it can help with high-availability of read-only nodes.\n\nThe second main benefit is being able to use the replicas as read-only Redis servers, and use them to make any slow O(N) queries you might need, offloading some work from the master, whose job is receiving all the writes or receiving the faster queries.\n\n### Limitations of replication\n\nReplicas are read-only by default, so write commands issued against a replica will fail. There are configurations around this, check the documentation for more information.\n\nReplication is asynchronous. This means that the master will acknowledge a write to the client before the write was successfully propagated to a replica. This creates the possibility of data loss, if the master fails after acknowledging the write but before propagating to the replica. Again, there are configurations around this to make it more safe (at the cost of worse performance).\n\nAlso, this setup does not provide any automatic failover. It is still your job to restart the master after a failure.\n\n### When you should use replication\n\nYou should use this very simple setup when (all of the bellow):\n- when you cannot afford to lose the data on your master\n- when you don\'t need automatic failover (if you need it, use Redis Sentinel)\n\nYou can also use it when you can benefit from having read-only replicas to offload some work from the master.\n\n## Partitioning\n\n[The docs](https://redis.io/topics/partitioning) have a really good definition of partitioning:\n\n> Partitioning is the process of splitting your data into multiple Redis instances, so that every instance will only contain a subset of your keys.\n\nWhen using partitioning, some partitioning criteria is needed, to decide on which Redis server a given key should be located. The three main criterias are range partitioning, hash partitioning and consistent hashing.\n\nRedis Cluster is the state-of-the-art way of working with partitioning in Redis, but for simpler cases you might need to handle the partitioning manually.\n\nThe actual partitioning (the mapping of a key to a Redis server) can happen in different parts of the stack:\n- client side partitioning: the client computes the server from the key.\n- proxy assisted partitioning: a proxy (like [Twemproxy](https://github.com/twitter/twemproxy)) sits in between client and servers and computes the correct server from the key.\n- query routing: is the technique used by Redis Cluster, in which any Redis node can receive a query and will redirect the client to the correct node, given the partitioning scheme.\n\n### Benefits of replication\n\nPartitioning allows you to have larger datasets. If your dataset is 10Gb, but you only have nodes with 4Gb of memory, you can use 3 nodes and partition your data between the 3 nodes.\n\nAlso, partitioning allows you to split the work load between multiple nodes, scaling the computational power of your Redis setup to multiple CPUs and network adapters, instead of the single CPU and network adapter of a single-node setup.\n\n### Limitations of partitioning\n\nWhen you have keys distributed among multiple nodes, some operations involving multiple keys become useless. Like trying to compute the intersection between two sets will only work if the two keys are in the same node, which is something that the programmer should rely on. The same goes for transactions involving multiple keys.\n\nOther limitation is regarding the partitioning granularity. Given the partition granularity is the key, a single key containing a huge list or set cannot be partitioned between multiple nodes.\n\nAt last, changing the system capacity (adding or removing nodes) is hard, because there is no automatic rebalancing mechanism. Redis Cluster solves this.\n\n### When you should use partitioning\n\nYou should use this very simple partitioning when (one of the bellow):\n- when your Redis dataset is too big to fit in the memory of a single node\n- when you have a volume of requests that a single Redis node cannot keep up, and you want to distribute the load to multiple instances\n\n## References\n\n- https://redis.io/topics/replication\n- https://redis.io/topics/partitioning\n'},YGwF:function(e,t,n){"use strict";var o=n("IZxv"),r=Object.prototype.hasOwnProperty;e.exports=new o("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(e){if(null===e)return!0;var t,n=e;for(t in n)if(r.call(n,t)&&null!==n[t])return!1;return!0},construct:function(e){return null!==e?e:{}}})},YO7g:function(e,t){var n=Object.prototype.toString;function o(e){return e.constructor?e.constructor.name:null}e.exports=function(e){if(void 0===e)return"undefined";if(null===e)return"null";var t=typeof e;if("boolean"===t)return"boolean";if("string"===t)return"string";if("number"===t)return"number";if("symbol"===t)return"symbol";if("function"===t)return"GeneratorFunction"===o(e)?"generatorfunction":"function";if(function(e){return Array.isArray?Array.isArray(e):e instanceof Array}(e))return"array";if(function(e){if(e.constructor&&"function"===typeof e.constructor.isBuffer)return e.constructor.isBuffer(e);return!1}(e))return"buffer";if(function(e){try{if("number"===typeof e.length&&"function"===typeof e.callee)return!0}catch(t){if(-1!==t.message.indexOf("callee"))return!0}return!1}(e))return"arguments";if(function(e){return e instanceof Date||"function"===typeof e.toDateString&&"function"===typeof e.getDate&&"function"===typeof e.setDate}(e))return"date";if(function(e){return e instanceof Error||"string"===typeof e.message&&e.constructor&&"number"===typeof e.constructor.stackTraceLimit}(e))return"error";if(function(e){return e instanceof RegExp||"string"===typeof e.flags&&"boolean"===typeof e.ignoreCase&&"boolean"===typeof e.multiline&&"boolean"===typeof e.global}(e))return"regexp";switch(o(e)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function(e){return"function"===typeof e.throw&&"function"===typeof e.return&&"function"===typeof e.next}(e))return"generator";switch(t=n.call(e)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return t.slice(8,-1).toLowerCase().replace(/\s/g,"")}},ZGWM:function(e,t,n){"use strict";var o=n("YO7g"),r=n("wISt");function i(e,t){return e.slice(0,t.length)===t&&e.charAt(t.length+1)!==t.slice(-1)}function a(e){return e}e.exports=function(e,t){"function"===typeof t&&(t={parse:t});var n=function(e){"object"!==o(e)&&(e={content:e});if("string"!==typeof e.content&&!function(e){if(e&&e.constructor&&"function"===typeof e.constructor.isBuffer)return e.constructor.isBuffer(e);return!1}(e.content))throw new TypeError("expected a buffer or string");return e.content=e.content.toString(),e.sections=[],e}(e),s=r({},{section_delimiter:"---",parse:a},t),c=s.section_delimiter,u=n.content.split(/\r?\n/),l=null,h={key:"",data:"",content:""},p=[],f=[];function d(e){n.content=e,l=[],p=[]}function m(e){f.length&&(h.key=function(e,t){return e?e.slice(t.length).trim():""}(f[0],c),h.content=e,s.parse(h,l),l.push(h),h={key:"",data:"",content:""},p=[],f=[])}for(var g=0;g<u.length;g++){var y=u[g],w=f.length,v=y.trim();if(i(v,c)){if(3===v.length&&0!==g){if(0===w||2===w){p.push(y);continue}f.push(v),h.data=p.join("\n"),p=[];continue}null===l&&d(p.join("\n")),2===w&&m(p.join("\n")),f.push(v)}else p.push(y)}return null===l?d(p.join("\n")):m(p.join("\n")),n.sections=l,n}},aDMY:function(e,t,n){"use strict";var o=n("MOKa"),r=n("dh2r");function i(e){return function(){throw new Error("Function "+e+" is deprecated and cannot be used.")}}e.exports.Type=n("IZxv"),e.exports.Schema=n("ymHv"),e.exports.FAILSAFE_SCHEMA=n("DPPO"),e.exports.JSON_SCHEMA=n("qLDN"),e.exports.CORE_SCHEMA=n("1QHI"),e.exports.DEFAULT_SAFE_SCHEMA=n("H7SM"),e.exports.DEFAULT_FULL_SCHEMA=n("McdK"),e.exports.load=o.load,e.exports.loadAll=o.loadAll,e.exports.safeLoad=o.safeLoad,e.exports.safeLoadAll=o.safeLoadAll,e.exports.dump=r.dump,e.exports.safeDump=r.safeDump,e.exports.YAMLException=n("+g4J"),e.exports.MINIMAL_SCHEMA=n("DPPO"),e.exports.SAFE_SCHEMA=n("H7SM"),e.exports.DEFAULT_SCHEMA=n("McdK"),e.exports.scan=i("scan"),e.exports.parse=i("parse"),e.exports.compose=i("compose"),e.exports.addConstructor=i("addConstructor")},aKDY:function(e,t,n){"use strict";e.exports=function(e,t){let n=t.engines[e]||t.engines[function(e){switch(e.toLowerCase()){case"js":case"javascript":return"javascript";case"coffee":case"coffeescript":case"cson":return"coffee";case"yaml":case"yml":return"yaml";default:return e}}(e)];if("undefined"===typeof n)throw new Error('gray-matter engine "'+e+'" is not registered');return"function"===typeof n&&(n={parse:n}),n}},b4WN:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var o=n("7VSQ"),r=n.n(o),i=function(e){return r()(e,"yyyy-mm-dd")},a=function(e){return r()(e,"mmm d, yyyy")}},boRg:function(e,t,n){"use strict";n.r(t),t.default='---\ntitle: "Using Nexus 3 as Your Repository - Part 1: Maven Artifacts"\ndate: 2016-11-23T19:55:08-02:00\nkeywords: nexus, repository, private, proxy, maven\nexcerpt: >\n  Learn how to setup Nexus 3 and configure it to use it both as a Maven private repository and as a proxy to Maven Central and other repos\n---\n\n<small>\nThis is the first part of a series of posts on Nexus 3 and how to use it as repository for several technologies.\n</small>\n\n## Installation\n\nInstall it with docker:\n\n```\ndocker run -d -p 8081:8081 -p 8082:8082 -p 8083:8083 --name my-nexus sonatype/nexus3:3.0.0\n```\n\n<small>\nWe are mapping all of those ports (8081-8083) because of the next posts in the series. For this post, we\'ll actually only need port 8081.\n</small>\n\nNexus 3 will go up on port 8081. Default credentials are admin/admin123.\n\nYou might want to create a volume to map the Nexus data folder to your host, adding the option `-v /opt/my-nexus-data:/nexus-data`.\n\n## Configuring Nexus as a Maven repo\n\nWhat we will do:\n  - create a private (hosted) repository for our snapshots\n  - create a private (hosted) repository for our releases\n  - create a proxy repository pointing to Maven Central\n  - create a group repository to provide all of these repos under a single URL\n\nI suggest you to create a new blob store for each new repo you want to create. That way, the data for every repo will be in a different folder in `/nexus-data` (inside the Docker container). But this is not mandatory for it to work.\n\n### snapshots repo\n\nA repository for Maven artifacts that you deploy **with** `-SNAPSHOT` in the end of the version tag of your pom.xml:\n\n```\n<version>1.0.0-SNAPSHOT</version>\n```\n\nCreate a new maven (hosted) repository and configure it like:\n\n![maven-snapshots0](https://cloud.githubusercontent.com/assets/4842605/20580349/f43cdad8-b1b8-11e6-8ff8-a9a02082197a.png)\n\n### releases repo\n\nA repository for Maven artifact that you deploy **without** `-SNAPSHOT` in the end of the version tag of your pom.xml:\n\n```\n<version>1.0.0</version>\n```\n\nCreate a new maven (hosted) repository and configure it like:\n\n![maven-releases0](https://cloud.githubusercontent.com/assets/4842605/20580348/f42e9964-b1b8-11e6-8e32-4a0dc717d7bf.png)\n\n### proxy to Maven Central repo\n\nA repository that proxies everything you download from Maven Central. Next time you download the same dependency, it will be cached in your Nexus.\n\nCreate a new maven (proxy) repository and configure it like:\n\n![maven-central0](https://cloud.githubusercontent.com/assets/4842605/20580346/f40f4488-b1b8-11e6-8fce-33034ef14978.png)\n\n![maven-central1](https://cloud.githubusercontent.com/assets/4842605/20580345/f40e387c-b1b8-11e6-8e4a-c314273bf1a0.png)\n\n### group repo\n\nThis will group all the above repos and provide you a single URL to configure your clients to download from/deploy to.\n\nCreate a new maven (group) repository and configure it like:\n\n![maven-group0](https://cloud.githubusercontent.com/assets/4842605/20580347/f427ce5e-b1b8-11e6-8a93-52cda1f49f59.png)\n\nYou can create as many repos as you need (like proxies to other public repos) and group them all in the group repo.\n\n\n## Configuring your clients and projects to use your Nexus repos\n\nPut this in your `~/.m2/settings.xml` file. This will configure the credentials to publish to your hosted repos, and will tell your `mvn` to use your repo as a mirror of central:\n\n```\n<?xml version="1.0" encoding="UTF-8"?>\n<settings xmlns="http://maven.apache.org/SETTINGS/1.1.0"\n  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n  xsi:schemaLocation="http://maven.apache.org/SETTINGS/1.1.0 http://maven.apache.org/xsd/settings-1.1.0.xsd">\n\n  <servers>\n    <server>\n      <id>nexus-snapshots</id>\n      <username>admin</username>\n      <password>admin123</password>\n    </server>\n    <server>\n      <id>nexus-releases</id>\n      <username>admin</username>\n      <password>admin123</password>\n    </server>\n  </servers>\n\n  <mirrors>\n    <mirror>\n      <id>central</id>\n      <name>central</name>\n      <url>http://your-host:8081/repository/maven-group/</url>\n      <mirrorOf>*</mirrorOf>\n    </mirror>\n  </mirrors>\n\n</settings>\n```\n\nAnd now configure your projects.\n\nIf you want only to download dependencies from Nexus, put this in the `pom.xml`:\n\n```\n<project ...>\n\n  ...\n\n  <repositories>\n    <repository>\n      <id>maven-group</id>\n      <url>http://your-host:8081/repository/maven-group/</url>\n    </repository>\n  </repositories>\n</project>\n```\n\nAnd if you want also to publish your project, add:\n\n```\n<project ...>\n\n  ...\n\n  <distributionManagement>\n    <snapshotRepository>\n      <id>nexus-snapshots</id>\n      <url>http://your-host:8081/repository/maven-snapshots/</url>\n    </snapshotRepository>\n    <repository>\n      <id>nexus-releases</id>\n      <url>http://your-host:8081/repository/maven-releases/</url>\n    </repository>\n  </distributionManagement>\n</project>\n```\n\nNow if you run in your projects:\n\n```\nmvn install\n# or\nmvn deploy\n```\n\nyour `mvn` will point to your Nexus instance.\n'},dh2r:function(e,t,n){"use strict";var o=n("T9Nc"),r=n("+g4J"),i=n("McdK"),a=n("H7SM"),s=Object.prototype.toString,c=Object.prototype.hasOwnProperty,u=9,l=10,h=32,p=33,f=34,d=35,m=37,g=38,y=39,w=42,v=44,b=45,k=58,x=62,A=63,T=64,I=91,S=93,C=96,E=123,j=124,R=125,M={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},O=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function N(e){var t,n,i;if(t=e.toString(16).toUpperCase(),e<=255)n="x",i=2;else if(e<=65535)n="u",i=4;else{if(!(e<=4294967295))throw new r("code point within a string may not be greater than 0xFFFFFFFF");n="U",i=8}return"\\"+n+o.repeat("0",i-t.length)+t}function _(e){this.schema=e.schema||i,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=o.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=function(e,t){var n,o,r,i,a,s,u;if(null===t)return{};for(n={},r=0,i=(o=Object.keys(t)).length;r<i;r+=1)a=o[r],s=String(t[a]),"!!"===a.slice(0,2)&&(a="tag:yaml.org,2002:"+a.slice(2)),(u=e.compiledTypeMap.fallback[a])&&c.call(u.styleAliases,s)&&(s=u.styleAliases[s]),n[a]=s;return n}(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function L(e,t){for(var n,r=o.repeat(" ",t),i=0,a=-1,s="",c=e.length;i<c;)-1===(a=e.indexOf("\n",i))?(n=e.slice(i),i=c):(n=e.slice(i,a+1),i=a+1),n.length&&"\n"!==n&&(s+=r),s+=n;return s}function P(e,t){return"\n"+o.repeat(" ",e.indent*t)}function D(e){return e===h||e===u}function U(e){return 32<=e&&e<=126||161<=e&&e<=55295&&8232!==e&&8233!==e||57344<=e&&e<=65533&&65279!==e||65536<=e&&e<=1114111}function Y(e){return U(e)&&65279!==e&&e!==v&&e!==I&&e!==S&&e!==E&&e!==R&&e!==k&&e!==d}function F(e){return/^\n* /.test(e)}var B=1,H=2,W=3,G=4,J=5;function q(e,t,n,o,r){var i,a,s,c=!1,u=!1,h=-1!==o,M=-1,O=U(s=e.charCodeAt(0))&&65279!==s&&!D(s)&&s!==b&&s!==A&&s!==k&&s!==v&&s!==I&&s!==S&&s!==E&&s!==R&&s!==d&&s!==g&&s!==w&&s!==p&&s!==j&&s!==x&&s!==y&&s!==f&&s!==m&&s!==T&&s!==C&&!D(e.charCodeAt(e.length-1));if(t)for(i=0;i<e.length;i++){if(!U(a=e.charCodeAt(i)))return J;O=O&&Y(a)}else{for(i=0;i<e.length;i++){if((a=e.charCodeAt(i))===l)c=!0,h&&(u=u||i-M-1>o&&" "!==e[M+1],M=i);else if(!U(a))return J;O=O&&Y(a)}u=u||h&&i-M-1>o&&" "!==e[M+1]}return c||u?n>9&&F(e)?J:u?G:W:O&&!r(e)?B:H}function z(e,t,n,o){e.dump=function(){if(0===t.length)return"''";if(!e.noCompatMode&&-1!==O.indexOf(t))return"'"+t+"'";var i=e.indent*Math.max(1,n),a=-1===e.lineWidth?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-i),s=o||e.flowLevel>-1&&n>=e.flowLevel;switch(q(t,s,e.indent,a,(function(t){return function(e,t){var n,o;for(n=0,o=e.implicitTypes.length;n<o;n+=1)if(e.implicitTypes[n].resolve(t))return!0;return!1}(e,t)}))){case B:return t;case H:return"'"+t.replace(/'/g,"''")+"'";case W:return"|"+K(t,e.indent)+Z(L(t,i));case G:return">"+K(t,e.indent)+Z(L(function(e,t){var n,o,r=/(\n+)([^\n]*)/g,i=function(){var n=e.indexOf("\n");return n=-1!==n?n:e.length,r.lastIndex=n,V(e.slice(0,n),t)}(),a="\n"===e[0]||" "===e[0];for(;o=r.exec(e);){var s=o[1],c=o[2];n=" "===c[0],i+=s+(a||n||""===c?"":"\n")+V(c,t),a=n}return i}(t,a),i));case J:return'"'+function(e){for(var t,n,o,r="",i=0;i<e.length;i++)(t=e.charCodeAt(i))>=55296&&t<=56319&&(n=e.charCodeAt(i+1))>=56320&&n<=57343?(r+=N(1024*(t-55296)+n-56320+65536),i++):(o=M[t],r+=!o&&U(t)?e[i]:o||N(t));return r}(t)+'"';default:throw new r("impossible error: invalid scalar style")}}()}function K(e,t){var n=F(e)?String(t):"",o="\n"===e[e.length-1];return n+(o&&("\n"===e[e.length-2]||"\n"===e)?"+":o?"":"-")+"\n"}function Z(e){return"\n"===e[e.length-1]?e.slice(0,-1):e}function V(e,t){if(""===e||" "===e[0])return e;for(var n,o,r=/ [^ ]/g,i=0,a=0,s=0,c="";n=r.exec(e);)(s=n.index)-i>t&&(o=a>i?a:s,c+="\n"+e.slice(i,o),i=o+1),a=s;return c+="\n",e.length-i>t&&a>i?c+=e.slice(i,a)+"\n"+e.slice(a+1):c+=e.slice(i),c.slice(1)}function X(e,t,n){var o,i,a,u,l,h;for(a=0,u=(i=n?e.explicitTypes:e.implicitTypes).length;a<u;a+=1)if(((l=i[a]).instanceOf||l.predicate)&&(!l.instanceOf||"object"===typeof t&&t instanceof l.instanceOf)&&(!l.predicate||l.predicate(t))){if(e.tag=n?l.tag:"?",l.represent){if(h=e.styleMap[l.tag]||l.defaultStyle,"[object Function]"===s.call(l.represent))o=l.represent(t,h);else{if(!c.call(l.represent,h))throw new r("!<"+l.tag+'> tag resolver accepts not "'+h+'" style');o=l.represent[h](t,h)}e.dump=o}return!0}return!1}function $(e,t,n,o,i,a){e.tag=null,e.dump=n,X(e,n,!1)||X(e,n,!0);var c=s.call(e.dump);o&&(o=e.flowLevel<0||e.flowLevel>t);var u,h,p="[object Object]"===c||"[object Array]"===c;if(p&&(h=-1!==(u=e.duplicates.indexOf(n))),(null!==e.tag&&"?"!==e.tag||h||2!==e.indent&&t>0)&&(i=!1),h&&e.usedDuplicates[u])e.dump="*ref_"+u;else{if(p&&h&&!e.usedDuplicates[u]&&(e.usedDuplicates[u]=!0),"[object Object]"===c)o&&0!==Object.keys(e.dump).length?(!function(e,t,n,o){var i,a,s,c,u,h,p="",f=e.tag,d=Object.keys(n);if(!0===e.sortKeys)d.sort();else if("function"===typeof e.sortKeys)d.sort(e.sortKeys);else if(e.sortKeys)throw new r("sortKeys must be a boolean or a function");for(i=0,a=d.length;i<a;i+=1)h="",o&&0===i||(h+=P(e,t)),c=n[s=d[i]],$(e,t+1,s,!0,!0,!0)&&((u=null!==e.tag&&"?"!==e.tag||e.dump&&e.dump.length>1024)&&(e.dump&&l===e.dump.charCodeAt(0)?h+="?":h+="? "),h+=e.dump,u&&(h+=P(e,t)),$(e,t+1,c,!0,u)&&(e.dump&&l===e.dump.charCodeAt(0)?h+=":":h+=": ",p+=h+=e.dump));e.tag=f,e.dump=p||"{}"}(e,t,e.dump,i),h&&(e.dump="&ref_"+u+e.dump)):(!function(e,t,n){var o,r,i,a,s,c="",u=e.tag,l=Object.keys(n);for(o=0,r=l.length;o<r;o+=1)s=e.condenseFlow?'"':"",0!==o&&(s+=", "),a=n[i=l[o]],$(e,t,i,!1,!1)&&(e.dump.length>1024&&(s+="? "),s+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),$(e,t,a,!1,!1)&&(c+=s+=e.dump));e.tag=u,e.dump="{"+c+"}"}(e,t,e.dump),h&&(e.dump="&ref_"+u+" "+e.dump));else if("[object Array]"===c){var f=e.noArrayIndent&&t>0?t-1:t;o&&0!==e.dump.length?(!function(e,t,n,o){var r,i,a="",s=e.tag;for(r=0,i=n.length;r<i;r+=1)$(e,t+1,n[r],!0,!0)&&(o&&0===r||(a+=P(e,t)),e.dump&&l===e.dump.charCodeAt(0)?a+="-":a+="- ",a+=e.dump);e.tag=s,e.dump=a||"[]"}(e,f,e.dump,i),h&&(e.dump="&ref_"+u+e.dump)):(!function(e,t,n){var o,r,i="",a=e.tag;for(o=0,r=n.length;o<r;o+=1)$(e,t,n[o],!1,!1)&&(0!==o&&(i+=","+(e.condenseFlow?"":" ")),i+=e.dump);e.tag=a,e.dump="["+i+"]"}(e,f,e.dump),h&&(e.dump="&ref_"+u+" "+e.dump))}else{if("[object String]"!==c){if(e.skipInvalid)return!1;throw new r("unacceptable kind of an object to dump "+c)}"?"!==e.tag&&z(e,e.dump,t,a)}null!==e.tag&&"?"!==e.tag&&(e.dump="!<"+e.tag+"> "+e.dump)}return!0}function Q(e,t){var n,o,r=[],i=[];for(function e(t,n,o){var r,i,a;if(null!==t&&"object"===typeof t)if(-1!==(i=n.indexOf(t)))-1===o.indexOf(i)&&o.push(i);else if(n.push(t),Array.isArray(t))for(i=0,a=t.length;i<a;i+=1)e(t[i],n,o);else for(r=Object.keys(t),i=0,a=r.length;i<a;i+=1)e(t[r[i]],n,o)}(e,r,i),n=0,o=i.length;n<o;n+=1)t.duplicates.push(r[i[n]]);t.usedDuplicates=new Array(o)}function ee(e,t){var n=new _(t=t||{});return n.noRefs||Q(e,n),$(n,0,e,!0,!0)?n.dump+"\n":""}e.exports.dump=ee,e.exports.safeDump=function(e,t){return ee(e,o.extend({schema:a},t))}},"e/PF":function(e,t,n){"use strict";var o=n("IZxv");e.exports=new o("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:function(e){if(null===e)return!1;if(0===e.length)return!1;var t=e,n=/\/([gim]*)$/.exec(e),o="";if("/"===t[0]){if(n&&(o=n[1]),o.length>3)return!1;if("/"!==t[t.length-o.length-1])return!1}return!0},construct:function(e){var t=e,n=/\/([gim]*)$/.exec(e),o="";return"/"===t[0]&&(n&&(o=n[1]),t=t.slice(1,t.length-o.length-1)),new RegExp(t,o)},predicate:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},represent:function(e){var t="/"+e.source+"/";return e.global&&(t+="g"),e.multiline&&(t+="m"),e.ignoreCase&&(t+="i"),t}})},fzCX:function(e,t,n){"use strict";var o=n("IZxv"),r=Object.prototype.toString;e.exports=new o("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,n,o,i,a,s=e;for(a=new Array(s.length),t=0,n=s.length;t<n;t+=1){if(o=s[t],"[object Object]"!==r.call(o))return!1;if(1!==(i=Object.keys(o)).length)return!1;a[t]=[i[0],o[i[0]]]}return!0},construct:function(e){if(null===e)return[];var t,n,o,r,i,a=e;for(i=new Array(a.length),t=0,n=a.length;t<n;t+=1)o=a[t],r=Object.keys(o),i[t]=[r[0],o[r[0]]];return i}})},hBpM:function(e,t,n){},hI4d:function(e,t,n){"use strict";n.r(t),t.default="---\ntitle: \"Practical Guide to Functional Programming\"\ndate: 2015-07-21T22:46:46-03:00\nexcerpt: >\n  Functional Programming lies somewhere between Computer Science and Mathematics. It is a pretty dense and theoric subject, so the goal here is to show you how to start using some classic functions for collection manipulation in your everyday code.\n---\n\n## Introduction\n\nFunctional Programming lies somewhere in the middle-ground between Computer Science and Mathematics. This is a pretty dense and theoric subject, so my goal here is to show you how to start using right away some classic functions for collections manipulation in your everyday code, focusing in practical examples of when you might use them.\n\nIn this post I'll show you how to use the 7 classical functions that I find most useful in collections manipulation:\n\n* [each](#each)\n* [filter](#filter)\n* [find](#find)\n* [some](#some)\n* [every](#every)\n* [map](#map)\n* [reduce](#reduce)\n\nUsing these simple functions you'll find yourself writting a lot less of boilerplate code. Kiss goodbye a lot of `for` loops and `if` tests. Focus your code on your business logic, not on collection traversal and array accessing.\n\n<small>\n(The examples are in Javascript, but you'll find these principles applicable to many other languages like Ruby, Java 8 lambdas and C#, with LINQ. Although I will manually implement all the functions to show you the undercovers, many of these functions are already implemented in native Javascript arrays and many Javascript libs. We will manipulate some hypothetical <a href=\"https://gist.githubusercontent.com/rafaeleyng/e381da0b19039531dd33/raw/1ae6dc1e28ae2169110bfa5c9077ddb322065169/ch-functional-programming-data.js\" target=\"_blank\">orders data</a> in the examples.)\n</small>\n\n\x3c!-- ======================================================================= --\x3e\n\n## each\n\nYou've been there. You have a collection of things, and you want to do something with `each` one of them.\n\n**Use case:** I want set each one of my orders as finished.\n\n```javascript\nfor (var i = 0; i < orders.length; i++) {\n  orders[i].finished = true;\n}\n```\n\n**Basic implementation:** `each` is a function that operates on a collection. For each item of this collection, a function will be called, receiving this item as a parameter. Inside this function, you do whatever you want with that item.\n\n```javascript\nvar each = function(list, operation) {\n  for (var i = 0; i < list.length; i++) {\n    operation(list[i]);\n  }\n}\n```\n\nRewriting the example using `each`:\n\n```javascript\neach(orders, function(order) {\n  order.finished = true;\n});\n```\n\nWe don't worry about collection traversal or accessing elements using indexes. We just worry about what we want to do for each item.\n\n\x3c!-- ======================================================================= --\x3e\n\n## filter\n\nYou have a collection of things, and you want a collection with only the things that have some characteristic of your interest.\n\n**Use case:** I want a list with the orders of the customer with code 1.\n\n```javascript\nvar ordersCustomer1 = [];\nfor (var i = 0; i < orders.length; i++) {\n  if (orders[i].customer === 1) {\n    ordersCustomer1.push(orders[i]);\n  }\n}\n```\n\n**Basic implementation:** `filter` is a function that, for each item of a collection, calls a function passing that item as a parameter. This function should use that item to test some characteristic of this item (a *predicate*), and return a boolean that indicates whether it has or has not that characteristic. All items that have the characteristic will be accumulated in a new collection and returned by `filter`.\n\n```javascript\nvar filter = function(list, operation) {\n  var results = []\n  for (var i = 0; i < list.length; i++) {\n    if (operation(list[i])) {\n      results.push(list[i]);\n    }\n  }\n  return results;\n}\n```\n\nRewriting the example using `filter`:\n\n```javascript\nvar ordersCustomer1 = filter(orders, function(order) {\n  return order.customer === 1;\n});\n```\n\n\x3c!-- ======================================================================= --\x3e\n\n## find\n\n`find` is a `filter` with 2 differences: you filter using a unique identifier, and it returns a single item (not a collection).\n\n**Use case:** I want to find the order with code 2.\n\n```javascript\nvar order2;\nfor (var i = 0; i < orders.length; i++) {\n  if (orders[i].number === 2) {\n    order2 = orders[i];\n    break;\n  }\n}\n```\n\n**Basic implementation:** `find` is a function that, for each item of a collection, calls a function passing that item as a parameter. This function should use that item to test some unique identifier of this item (a *predicate*), and return a boolean that indicates whether it has or has not that identifier. `find` will stop searching as soon as it finds the first item that matches the predicate and will return this item.\n\n```javascript\nvar find = function(list, operation) {\n  for (var i = 0; i < list.length; i++) {\n    if (operation(list[i])) {\n      return list[i];\n    }\n  }\n}\n```\n\nRewriting the example using `find`:\n\n```javascript\nvar order2 = find(orders, function(order) {\n  return order.number === 2;\n});\n```\n\n\x3c!-- ======================================================================= --\x3e\n\n## some\n\nYou want to know if `some` of your items has some characteristic. It can be only one, two, or it can be all of them.\n\n**Use case:** I want to know whether exists a not finished order.\n\n```javascript\nvar existsNotFinished = false;\nfor (var i = 0; i < orders.length; i++) {\n  if (!orders[i].finished) {\n    existsNotFinished = true;\n    break;\n  }\n}\n```\n\n**Basic implementation:** `some` is a function that, for each item of a collection, calls a function passing that item as a parameter. This function should use that item to return a boolean value that indicates whether the item has the characteristic. `some` will return `true` as soon as it finds some item that has the characteristic, of `false` if none does.\n\n```javascript\nvar some = function(list, operation) {\n  for (var i = 0; i < list.length; i++) {\n    if (operation(list[i])) {\n      return true;\n    }\n  }\n  return false;\n}\n```\n\nRewriting the example using `some`:\n\n```javascript\nvar existsNotFinished = some(orders, function(order) {\n  return !order.finished;\n});\n```\n\n\x3c!-- ======================================================================= --\x3e\n\n## every\n\nYou want to know if `every` of your items has some characteristic.\n\n**Use case:** I want to know whether all orders are not finished.\n\n```javascript\nvar allFinished = true;\nfor (var i = 0; i < orders.length; i++) {\n  if (!orders[i].finished) {\n    allFinished = false;\n    break;\n  }\n}\n```\n\n**Basic implementation:** `every` is a function that, for each item of a collection, calls a function passing that item as a parameter. This function should use that item to return a boolean value that indicates whether the item has the characteristic. `every` will return `false` as soon as it finds some item that doesn't have the characteristic, of `true` if all of them do.\n\n```javascript\nvar every = function(list, operation) {\n  for (var i = 0; i < list.length; i++) {\n    if (!operation(list[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n```\n\nRewriting the example using `every`:\n\n```javascript\nvar allFinished = every(orders, function(order) {\n  return order.finished;\n});\n```\n\n\x3c!-- ======================================================================= --\x3e\n\n## map\n\nFor each item of your collection you want to obtain a value by transforming that item, and you want a collection of these values back.\n\n**Use case:** I need a list containing only the numbers of my orders (I want to *transform* my orders into its numbers).\n\n```javascript\nvar orderNumbers = [];\nfor (var i = 0; i < orders.length; i++) {\n  orderNumbers.push(orders[i].number);\n}\n```\n\n**Basic implementation:** `map` is a function that, for each item of a collection, calls a function passing that item as a parameter. This function should use that item to obtain some value from it (getting one of its properties, making some kind of calculation etc) and return this value. `map` will accumulate those values in a collection and return this collection.\n\n```javascript\nvar map = function(list, operation) {\n  var results = [];\n  for (var i = 0; i < list.length; i++) {\n    results.push(operation(list[i]));\n  }\n  return results;\n}\n```\n\nRewriting the example using `map`:\n\n```javascript\nvar orderNumbers = map(orders, function(order) {\n  return order.number;\n});\n```\n\n\x3c!-- ======================================================================= --\x3e\n\n## reduce\n\nFrom your collection, you want to get to some value that somehow represents it, like some kind of totalization.\n\n**Use case:** I want to know the total cost of my order.\n\n```javascript\nvar orderTotal = 0;\nvar order = orders[0]\nfor (var i = 0; i < order.items.length; i++) {\n  var item = order.items[i];\n  orderTotal += item.value * item.quantity;\n}\n```\n\n**Basic implementation:** `reduce` is a function that, for each item of a collection, calls a function passing that item and an accumulator value as parameters. This function should use that item and the accumulator to calculate some value, that will be the new value of the accumulator. `reduce` receives an initial accumulator value, that for addition will be usually `0`.\n\n```javascript\nvar reduce = function(list, operation, initial) {\n  var accumulator = initial;\n  for (var i = 0; i < list.length; i++) {\n    accumulator = operation(accumulator, list[i]);\n  }\n  return accumulator;\n}\n```\n\nRewriting the example using `reduce`:\n\n```javascript\nvar orderTotal = reduce(orders[0].items, function(acc, item) {\n  return acc + (item.value * item.quantity);\n}, 0)\n```\n\n\x3c!-- ======================================================================= --\x3e\n\n## Combining functions\n\nI want to show you an example of how these functions can be combined to make your code more concise and expressive. Suppose we want to obtain a list with the total value of each of the orders. We could do this:\n\n```javascript\nvar totals = [];\nfor (var i = 0; i < orders.length; i++) {\n  var order = orders[i];\n  var total = 0;\n  for (var j = 0; j < order.items.length; j++) {\n    var item = order.items[j];\n    total += item.value * item.quantity;\n  }\n  totals.push(total);\n}\n```\n\nGenerically, what we want to do is to `map` each order to a function that will `reduce` the value of its items multiplied by the quantities into a single value:\n\n```javascript\nvar totals = map(orders, function(order) {\n  return reduce(order.items, function(acc, item) {\n    return acc + (item.quantity * item.value);\n  }, 0);\n});\n```\n\n## Further reading\n\nIf you want some nice reading about Functional Programming, check out [Professor Frisby's Mostly Adequate Guide to Functional Programming](https://github.com/DrBoolean/mostly-adequate-guide).\n\nSome video courses on the subject: [Programming Languages](https://www.coursera.org/course/proglang) and [Functional Programming Principles in Scala](https://www.coursera.org/course/progfun).\n\nI also recommend you to read some real world implementations of the functions explained here in [Underscore.js](http://underscorejs.org/) source code.\n"},heae:function(module,exports,__webpack_require__){"use strict";const yaml=__webpack_require__("UYa7"),engines=exports=module.exports;engines.yaml={parse:yaml.safeLoad.bind(yaml),stringify:yaml.safeDump.bind(yaml)},engines.json={parse:JSON.parse.bind(JSON),stringify:function(e,t){const n=Object.assign({replacer:null,space:2},t);return JSON.stringify(e,n.replacer,n.space)}},engines.javascript={parse:function parse(str,options,wrap){try{return!1!==wrap&&(str="(function() {\nreturn "+str.trim()+";\n}());"),eval(str)||{}}catch(err){if(!1!==wrap&&/(unexpected|identifier)/i.test(err.message))return parse(str,options,!1);throw new SyntaxError(err)}},stringify:function(){throw new Error("stringifying JavaScript is not supported")}}},hmKD:function(e,t,n){"use strict";const o=n(1),r=n("ZGWM"),i=n("Nvau"),a=n("zFfO"),s=n("ll1A"),c=n("heae"),u=n("D8uN"),l=n("N5DK"),h=n("KGlr");function p(e,t){if(""===e)return{data:{},content:e,excerpt:"",orig:e};let n=u(e);const o=p.cache[n.content];if(!t){if(o)return n=Object.assign({},o),n.orig=o.orig,n;p.cache[n.content]=n}return function(e,t){const n=i(t),o=n.delimiters[0],a="\n"+n.delimiters[1];let c=e.content;n.language&&(e.language=n.language);const u=o.length;if(!h.startsWith(c,o,u))return s(e,n),e;if(c.charAt(u)===o.slice(-1))return e;c=c.slice(u);const f=c.length,d=p.language(c,n);d.name&&(e.language=d.name,c=c.slice(d.raw.length));let m=c.indexOf(a);-1===m&&(m=f);e.matter=c.slice(0,m),""===e.matter.replace(/^\s*#[^\n]+/gm,"").trim()?(e.isEmpty=!0,e.empty=e.content,e.data={}):e.data=l(e.language,e.matter,n);m===f?e.content="":(e.content=c.slice(m+a.length),"\r"===e.content[0]&&(e.content=e.content.slice(1)),"\n"===e.content[0]&&(e.content=e.content.slice(1)));s(e,n),(!0===n.sections||"function"===typeof n.section)&&r(e,n.section);return e}(n,t)}p.engines=c,p.stringify=function(e,t,n){return"string"===typeof e&&(e=p(e,n)),a(e,t,n)},p.read=function(e,t){const n=p(o.readFileSync(e,"utf8"),t);return n.path=e,n},p.test=function(e,t){return h.startsWith(e,i(t).delimiters[0])},p.language=function(e,t){const n=i(t).delimiters[0];p.test(e)&&(e=e.slice(n.length));const o=e.slice(0,e.search(/\r?\n/));return{raw:o,name:o?o.trim():""}},p.cache={},p.clearCache=()=>p.cache={},e.exports=p},j1pk:function(e,t,n){"use strict";var o=n("T9Nc"),r=n("IZxv");function i(e){return 48<=e&&e<=55}function a(e){return 48<=e&&e<=57}e.exports=new r("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,n,o=e.length,r=0,s=!1;if(!o)return!1;if("-"!==(t=e[r])&&"+"!==t||(t=e[++r]),"0"===t){if(r+1===o)return!0;if("b"===(t=e[++r])){for(r++;r<o;r++)if("_"!==(t=e[r])){if("0"!==t&&"1"!==t)return!1;s=!0}return s&&"_"!==t}if("x"===t){for(r++;r<o;r++)if("_"!==(t=e[r])){if(!(48<=(n=e.charCodeAt(r))&&n<=57||65<=n&&n<=70||97<=n&&n<=102))return!1;s=!0}return s&&"_"!==t}for(;r<o;r++)if("_"!==(t=e[r])){if(!i(e.charCodeAt(r)))return!1;s=!0}return s&&"_"!==t}if("_"===t)return!1;for(;r<o;r++)if("_"!==(t=e[r])){if(":"===t)break;if(!a(e.charCodeAt(r)))return!1;s=!0}return!(!s||"_"===t)&&(":"!==t||/^(:[0-5]?[0-9])+$/.test(e.slice(r)))},construct:function(e){var t,n,o=e,r=1,i=[];return-1!==o.indexOf("_")&&(o=o.replace(/_/g,"")),"-"!==(t=o[0])&&"+"!==t||("-"===t&&(r=-1),t=(o=o.slice(1))[0]),"0"===o?0:"0"===t?"b"===o[1]?r*parseInt(o.slice(2),2):"x"===o[1]?r*parseInt(o,16):r*parseInt(o,8):-1!==o.indexOf(":")?(o.split(":").forEach((function(e){i.unshift(parseInt(e,10))})),o=0,n=1,i.forEach((function(e){o+=e*n,n*=60})),r*o):r*parseInt(o,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1===0&&!o.isNegativeZero(e)},represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0"+e.toString(8):"-0"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},jIM4:function(e,t,n){"use strict";var o=n("IZxv");e.exports=new o("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)},construct:function(e){return"true"===e||"True"===e||"TRUE"===e},predicate:function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"})},kah5:function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},lI8o:function(e,t,n){"use strict";n.r(t),t.default='---\ntitle: "JavaScript Code Coverage With Instanbul and Coveralls"\ndate: 2016-01-14T21:50:18-02:00\nkeywords: test, coverage, javascript, npm\nexcerpt: >\n  A fast lane to set up code coverage in your project\n---\n\n## Code coverage\n\nIf you want to set up code coverage measurements in a project, there are usually 4 things that you\'ll need:\n\n- a **test runner** (like [Mocha](https://github.com/mochajs/mocha), [AVA](https://github.com/sindresorhus/ava)), to run your tests\n- a **code coverage** tool (like [Istanbul](https://github.com/gotwarlost/istanbul), [nyc](https://github.com/bcoe/nyc)), to generate code coverage reports\n- a **code coverage insight** service (like [Coveralls](https://coveralls.io/), [Codecov](https://codecov.io/)), to provide you a nice visualization of your code coverage data\n- a **reporting** tool (like [node-coveralls](https://github.com/nickmerwin/node-coveralls), [codecov.io](https://github.com/cainus/codecov.io/)), to send your reports to some service\n\n## Assumptions\n\nI\'ll assume you already have Mocha locally installed (`npm i -D mocha`) as your test runner, and show you how to do the rest.\n\nI\'ll also assume that you have TravisCI server configured for your project.\n\n### npm scripts\n\nnpm scripts are scripts you add inside package.json. You can add arbitrary shell script commands there, like: `"scripts": { "print-something": "echo \'something\'" }`. You can run this script by invoking it by its name: `npm run print-something`.\n\nI try to use npm scripts as much as possible, to avoid global dependencies and to avoid the clutter to manually invoke local dependencies. So all examples here will use this approach.\n\n\n## Code coverage tool\n\nThe principle is: instead of directly running your tests, you set up a middle man to do this and generate the coverage reports. Enter Istanbul.\n\n```sh\nnpm i -D istanbul\n```\n\nIn npm scripts:\n\n```json\n"coverage": "./node_modules/istanbul/lib/cli cover _mocha test/index.js"\n```\n\nor, if you are using ES6 in your tests, do `npm i -D babel-cli` and run it using babel-node:\n\n```json\n"coverage": "babel-node ./node_modules/istanbul/lib/cli cover _mocha test/index.js"\n```\n\nNote that `_mocha`, with underscore, is the actual runner. `mocha` seems to be just a wrapper around it.\n\nRun this script with `npm run coverage` and it will generate a `coverage` folder with illegible coverage data, and print some results to the console. You should put this folder in .gitignore, with `echo coverage >> .gitignore`.\n\n\n## Code coverage insight service\n\nJust sign up to [Coveralls](https://coveralls.io/) and add the Github repo you want to watch.\n\n\n## Coverage reporting tool\n\nInstall node-coveralls with:\n\n```sh\nnpm i -D node-coveralls\n```\n\nThis will install a tool that knows how to get you `coverage` folder and report it to the Coveralls service.\n\nBut you are not going to make those reports manually. Instead, your CI server will do this. Since I\'m assuming you are using TravisCI, you should already have a `.travis.yml` file. Add:\n\n```yml\nafter_success:\n  - npm run coverage\n  - npm run report-coverage\n```\n\n`coverage` is the script that creates the coverage report. `report-coverage` is the script that takes that data and reports it to the service. Since this is running in your CI server, set it up to run for every pull request/push.\n\nThe script for `npm run report-coverage` is:\n\n```json\n"report-coverage": "cat ./coverage/lcov.info | coveralls"\n```\n\nThe combination of Coveralls + TravisCI makes that you don\'t have to provide any kind of token for the two services communicate. If you choose different services, you might need an extra step of configuring some access token.\n\nExtra: if you choose to use Codecov, you should use instead:\n\n```sh\nnpm i -D codecov.io\n```\n\nand\n\n```json\n"report-coverage": "cat ./coverage/lcov.info | codecov"\n```\n\n## Extra: checking coverage as part of your CI\n\nWant to make your build fail if your coverage falls bellow some threshold? Add an extra script to your `.travis.yml` to be run in your CI build:\n\n```yml\nscript:\n  # ...\n  - npm run check-coverage\n```\n\nand define that script in `package.json`:\n\n```json\n"check-coverage": "istanbul check-coverage --statements 70 --branches 70 --functions 70 --lines 70",\n```\n\nThose `70`s are the percentage of coverage that you want as a threshold. Your build will fail if those thresholds are not met.\n'},ll1A:function(e,t,n){"use strict";const o=n("Nvau");e.exports=function(e,t){const n=o(t);if(null==e.data&&(e.data={}),"function"===typeof n.excerpt)return n.excerpt(e,n);const r=e.data.excerpt_separator||n.excerpt_separator;if(null==r&&(!1===n.excerpt||null==n.excerpt))return e;const i="string"===typeof n.excerpt?n.excerpt:r||n.delimiters[0],a=e.content.indexOf(i);return-1!==a&&(e.excerpt=e.content.slice(0,a)),e}},lyIY:function(e,t,n){"use strict";var o=n("IZxv");e.exports=new o("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(e){return"<<"===e||null===e}})},m1Oa:function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},mw9m:function(e,t,n){"use strict";(function(e){var o=n("mXGw"),r=n.n(o),i=n("5dyF"),a=n.n(i),s=n("nKeF"),c=r.a.createElement;t.a=function(){return c("div",{className:"container"},c("header",{className:"site-header single-column"},c(a.a,{href:e.env.blogPath||"/"},c("a",{className:"blog-title"},s.a.title)),c("nav",{className:"blog-menu"},c("a",{target:"_blank",rel:"noopener",href:"https://rafaeleyng.github.io/me"},"About"),c("a",{target:"_blank",rel:"noopener",href:"https://github.com/rafaeleyng/rafaeleyng.github.io"},"Github"))))}}).call(this,n("5IsQ"))},nBYV:function(e,t,n){"use strict";var o=n("IZxv");e.exports=new o("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)},construct:function(){return null},predicate:function(e){return null===e},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},nKeF:function(e,t,n){"use strict";t.a={title:"Rafael Eyng's Blog",url:"https://rafaeleyng.github.io"}},naNh:function(e,t,n){"use strict";n.r(t),t.default="---\ntitle: \"Redis: Pipelining, Transactions and Lua Scripts\"\ndate: 2019-11-25\nkeywords: redis, pipelining, transaction, lua, scripts\nexcerpt: >\n  Redis offers 3 ways of grouping commands: pipelining, transactions and Lua scripts. The subtleties of using one instead of the other are explored on this post.\n---\n\nRedis offers 3 ways of grouping commands: pipelining, transactions and Lua scripts. The subtleties of using one instead of the other are explored on this post, in terms of the benefits they present, their limitations and atomicity.\n\n## Pipelining\n\nThink of pipelining as purely an optimization for sending multiple commands at a lower computational cost. Is the simplest of the three and offers less guarantees.\n\nPipelining in Redis consists of sending multiple commands to the server in the same message, separating commands by newline. You can test this (assuming you have Redis running locally on default port 6379) with `printf \"INCR x\\r\\nINCR x\\r\\n\" | nc localhost 6379`. This sends a single message containing two commands, separated by newlines. It is sometimes referred as \"batching\" in some libraries. Note that there is no special commands to mark the start or the end of a pipeline. It is really just a bunch of commands grouped together.\n\nThe server buffers all the answers in memory and sends all at once when the pipeline is done. So the pipeline size must not be too big that the server will have to hold a lot of answers in memory. Using a few thousands of commands inside a pipeline is usually a good starting point.\n\n### Benefits of pipelining\n\nIt provides two main benefits in terms of performance:\n- batching several commands in a single message allows us to save multiple times the round trip time between the client and the Redis server\n- it avoids context switching, both in the client and in the server. When the server or the client need to read from/write to the network, a syscall is made and an expensive context switch happens between user space and kernel space. If we send 10 messages, each with a single command, 10 context switches will happen. If we send a single message with 10 commands, it's likely that a single context switch will be needed.\n\n### Atomicity of pipelining\n\nIt is worth knowing that the part of Redis that executes client commands is single-threaded. Also, that all commands in Redis are atomic, executed individually. This means that Redis doesn't stop any command half-way through its execution to execute another command. Every individual command that is started is finished without interleaving with other commands.\n\nBut **pipelining is not atomic**. Imagine that you have 2 clients talking to the same Redis server, and both send at the same time a pipeline consisting of 5 commands each. While is guaranteed that all commands from Client 1 pipeline will be executed in order, there is no guarantee that they won't be interleaved with commands from Client 2 pipeline.\n\nThis image shows one of the multiple possible interleavings between two concurrent pipelines being executed:\n\n![pipelines interleaving](https://user-images.githubusercontent.com/4842605/69572324-ad031380-0fa2-11ea-9db2-12a5c6ac9e41.png)\n\n\nThis behavior shows that pipelining is non-blocking on the server. This means that even if a Client 1 has a huge and slow pipeline, other clients won't be blocked, because the commands from the other clients will be interleaved with the commands from Client 1 pipeline.\n\n### Limitations of pipelining\n\nThe clients only gets the command's response after executing all the pipeline. So if a client sends a pipeline with 5 commands, it will receive at the end an array with the response for each command.\n\nIf some command fails, the pipeline continues and an error is returned at the end, as the response for that specific command (not for the whole pipeline). You can test it with `printf \"SET name rafael\\r\\nINCR name\\r\\nGET name\\r\\n\" | nc localhost 6379` (note the error on the second line, but the last command gets executed anyway):\n\n```\n+OK\n-ERR value is not an integer or out of range\n$6\nrafael\n```\n\nSo you cannot, inside a pipeline, read some value from Redis and use the value later in a command inside the same pipeline.\n\n### When you should use pipelining\n\nUse pipeline when (all of the bellow):\n- you need performance\n- you have several commands to send to the Redis server\n- you don't need the response of a previous command as input for a subsequent command (because you only get all responses in the end).\n\n---\n\n## Transactions\n\nRedis transactions have a different semantics than \"transactions\" in a RDBMS context.\n\nTransactions in Redis are a mechanism for queuing commands, and later deciding whether we want to executed all of them (atomically) or give up and don't execute any command.\n\nUnlike pipelines, pipelines use special commands to mark the beginning and the end of the transaction, and the server also can queue the commands from a transaction (so the client can send one at a time). So transactions are stateful on the server, it actually keeps track of an ongoing transaction. Besides that, some libraries prefer to buffer the commands client-side and send the whole transaction inside a pipeline for optimization.\n\nA transaction works by issuing a `MULTI` command, then sending all the commands that compose the pipeline, and an `EXEC` or a `DISCARD` at the end.\n\n### Benefits of transactions\n\nIf pipelining is used on the library, all the performance benefits from using pipeline will apply.\n\nTransactions also provide a \"check-and-set\" with the `WATCH` command. Imagine the scenario:\n- before the transaction, we read a value from key `my-key` and store it in our program\n- we start the transaction with `MULTI`\n- we queue commands inside the transaction, using the value read from key `my-key`\n- we `EXEC` the transaction\n\nIn this scenario, we can use `WATCH` to avoid running the transaction with an old value of `my-key`, in the case that the value changed between we read it and we executed the transaction.\n\n### Atomicity of transactions\n\n**Transactions are atomic**. There is no interleaving of commands inside a transaction with commands from outside that transaction. The attention point is that transactions are blocking. If you have a client with a huge and slow transaction being executed, all other clients will have to wait to be served.\n\n### Limitations of transactions\n\nLike pipelining, using transactions we don't have the ability to use intermediate values for subsequent commands. We only get the whole list of responses at the end.\n\nIf an error happens in one of the commands, there are 2 possibilities:\n- if it is a syntax error (like wrong number of arguments), it is detected while queuing the commands and the transaction won't even be executed.\n- if it is a semantic error (like an operation on the wrong data type), it is only detected while executing the transaction, and (just like with pipelines), the error will be returned inside the list of responses, as the response for the specific command. But subsequent commands in the queue will be executed normally, and the transaction won't be aborted. This means that Redis doesn't have a rollback mechanism like traditional RDBMS.\n\n### When you should use transactions\n\nYou should use transactions if (all of the bellow):\n- you need atomic execution of commands\n- you don't need intermediate values to compose subsequent commands\n\n---\n\n## Lua Scripts\n\nRedis can execute client-provided scripts written in Lua. This is by far the method that opens more possibilities of the 3 presented here.\n\nA Lua script is loaded on the Redis server and can be later invoked with parameters (using the `EVALSHA` command). You can also send the whole script on every invocation (with the `EVAL` command), but you should avoid doing this for performance reasons.\n\n### Benefits of Lua scripts\n\nUnlike with pipelining and transactions, in a Lua script we can manipulate intermediate results. It is, we can read a value from Redis using a command, store the result in a Lua variable, and later use the value in a command or even in some logic like an `if` statement. We can also execute inside a Lua script any Redis command that the server supports. In the following example we use parameters (both `KEYS` and `ARGV`), issue Redis commands, read intermediate values, and use values we've read in the script logic.\n\n```lua\nlocal key = KEYS[1]\nlocal new = ARGV[1]\n\nlocal current = redis.call('GET', key)\nif (current == false) or (tonumber(new) < tonumber(current)) then\n  redis.call('SET', key, new)\n  return 1\nelse\n  return 0\nend\n```\n\n### Atomicity of Lua scripts\n\n**Lua scripts are atomic**. Likewise transactions, they are blocking and can make other clients wait for a long time if the script is slow.\n\n### Limitations of Lua scripts\n\nWhile there is no limitations in terms of functionality of Lua scripts, it might be weird to use it to implement a huge pipeline with atomicity. In a pipeline we would add commands to the pipeline, going as far as thousands of commands. How to implement this with scripts? Either generate a script dynamically with the current commands, which would not perform well (because we could not reuse the script with `EVALSHA`), or make a loop inside the script and call it with a huge number (thousands) of parameters. I've never needed to do this, but just seems weird and I'm not sure it would work.\n\n### When you should use Lua scripts\n\nYou should use Lua scripts if (all of the bellow):\n- you need atomic execution of commands\n- you need intermediate values to compose subsequent commands\n- you need intermediate values to conditionally execute commands\n\n---\n\n## References\n\n- https://redis.io/topics/pipelining\n- https://redis.io/topics/transactions\n- https://redis.io/commands/eval\n- https://www.slideshare.net/RedisLabs/atomicity-in-redis-thomas-hunter\n- https://stackoverflow.com/questions/29327544/pipelining-vs-transaction-in-redis\n- https://stackexchange.github.io/StackExchange.Redis/PipelinesMultiplexers\n- https://stackexchange.github.io/StackExchange.Redis/Transactions\n"},"o/EK":function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},pCvA:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(o){"object"===typeof window&&(n=window)}e.exports=n},pWdk:function(e,t,n){"use strict";var o=n("IZxv");e.exports=new o("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}})},"pa+D":function(e,t,n){"use strict";var o;try{o=n("zkTx").Buffer}catch(a){}var r=n("IZxv"),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";e.exports=new r("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,n,o=0,r=e.length,a=i;for(n=0;n<r;n++)if(!((t=a.indexOf(e.charAt(n)))>64)){if(t<0)return!1;o+=6}return o%8===0},construct:function(e){var t,n,r=e.replace(/[\r\n=]/g,""),a=r.length,s=i,c=0,u=[];for(t=0;t<a;t++)t%4===0&&t&&(u.push(c>>16&255),u.push(c>>8&255),u.push(255&c)),c=c<<6|s.indexOf(r.charAt(t));return 0===(n=a%4*6)?(u.push(c>>16&255),u.push(c>>8&255),u.push(255&c)):18===n?(u.push(c>>10&255),u.push(c>>2&255)):12===n&&u.push(c>>4&255),o?o.from?o.from(u):new o(u):u},predicate:function(e){return o&&o.isBuffer(e)},represent:function(e){var t,n,o="",r=0,a=e.length,s=i;for(t=0;t<a;t++)t%3===0&&t&&(o+=s[r>>18&63],o+=s[r>>12&63],o+=s[r>>6&63],o+=s[63&r]),r=(r<<8)+e[t];return 0===(n=a%3)?(o+=s[r>>18&63],o+=s[r>>12&63],o+=s[r>>6&63],o+=s[63&r]):2===n?(o+=s[r>>10&63],o+=s[r>>4&63],o+=s[r<<2&63],o+=s[64]):1===n&&(o+=s[r>>2&63],o+=s[r<<4&63],o+=s[64],o+=s[64]),o}})},pjvv:function(e,t,n){"use strict";n.r(t),t.default='---\ntitle: "Simple Git Hooks With Ghooks"\ndate: 2016-01-09T22:18:59-02:00\nkeywords: git, hooks, workflow\nexcerpt: >\n  Learn how to use git hooks easily to leverage best practices in your workflow.\n---\n\n## git hooks\n\ngit provides a way to *hook* some git actions (like commit, push) to run custom scripts. These hooks run at different moments of the actions, and you can use them to improve your workflow in several ways. Some examples are preventing a commit to happen if a test fails, or running some kind of build tool before pushing.\n\nWhen you create a git project, you\'ll have a bunch of hook samples inside `.git/hooks`. None of these are actually run because they have the `.sample` extension. Remove that extension and the hook starts to get called.\n\n## What\'s wrong with git hooks\n\nYour git hooks stay inside the `.git` folder. Since this folder contains your local project versioning history, it is not versioned. The problem is that even if you create a hook file, you can\'t commit this file and push it to your remote, so this file won\'t exist for the rest of your team.\n\n## ghooks to the rescue!\n\nStart by installing ghooks:\n\n```sh\nnpm i -D ghooks\n```\n\nWhen you do that, ghooks will create a whole lot of files inside your `.git/hooks` dir. But that is not a problem anymore, because everybody that clones your project will also have those files created when they run `npm install`. And all those hook files are identical: they simply require ghooks and call it passing the hook file\'s own name. So supposing we are to run a commit, git calls the hook, but the hook calls ghooks, saying "hey, git are running the pre-commit hook, handle it at your will".\n\nghooks will then look for how you want to handle that hook. The way to go is define this is in your `package.json`:\n\n```js\n"config": {\n  "ghooks": {\n    "pre-commit": "npm run test"\n  }\n}\n```\n\nEven though your git hooks (auto generated by ghooks) are still buried inside `.git` folder, the actual code they will execute is not. Now you can keep this code versioned and consistent across your team.\n\n### A little bit of shell scripting\n\nPrograms are called, run, and exit. The program exits with a code number that tells whether it ran successfully or not. `0` is success. Any other code is an error.\n\nSome git hooks have the power to actually prevent the git action to be performed. *pre-commit* is one of them. If your hook exits non-zero, the commit won\'t happen. This way, you can run your linter or tests before commiting, and if they fail, the task runner will exit non-zero and the commit won\'t happen.\n\n### A gotcha with exit codes\n\nYou can actually run more than one command in your hook. For instance, you could run `npm run test; npm run build`.\n\nYou have to be aware that, for git, it only matters the exit code of the last program of your hook. So even if `npm run test` fails, `npm run build` could succeed and the commit will happen.\n\nI ran into this myself. I was in a situation where I had to commit a bundled JavaScript file in my project. Before commiting, I wanted my hook to run my linter, my tests and to bundle the file with production configuration. But the bundled file would need to be added to my git index, so I needed to run `git add dist/bundle.js`. I created a `pre-commit` npm script that would call my appropriate Gulp tasks and ended up with a pre-commit ghook like `npm run pre-commit; git add dist/bundle.js`.\n\nYou see the problem? Even if my linter or tests failed, or even if my bundler (Webpack) failed to bundle my file, `git add dist/bundle.js` would succeed and exit with `0`. My commit **would** happen, and it **shouldn\'t**.\n\nThe solution was to use a shell script `if` (if you don\'t know how a shell script `if` works, I warn you that is not like you expect from other programming languages):\n\n```javascript\n  "pre-commit": "if npm run pre-commit; then git add dist/bundle.js; else printf \'pre-commit error: fix the test and/or lint errors and commit again\'; (exit 1); fi"\n```\n\nSee the `(exit 1)` there? That will make my hook exit non-zero and make my commit not happen.\n\n### Skipping hooks\n\nLet\'s say you added a line to your README. You don\'t need to run lint/tests/build. Just use:\n\n```sh\ngit commit -m \'message\' --no-verify\n```\n\n## List of git hooks\n\nCheck the [docs](https://git-scm.com/docs/githooks).\n'},qLDN:function(e,t,n){"use strict";var o=n("ymHv");e.exports=new o({include:[n("DPPO")],implicit:[n("nBYV"),n("jIM4"),n("j1pk"),n("437f")]})},qMYF:function(e,t,n){"use strict";n.r(t),t.default="---\ntitle: \"Optimizing Assets in Jekyll-generated gh-pages\"\ndate: 2015-10-30T22:28:39-02:00\nexcerpt: >\n  Learn how to optimize assets for your Jekyll site without having to rely on plugins.\n---\n\n## Jekyll + gh-pages\n\nIf you have some static site generated with [Jekyll](https://jekyllrb.com/), chances are that you are hosting your site with Github [gh-pages](https://help.github.com/articles/using-jekyll-with-pages/).\n\ngh-pages are awesome for their simplicity to host and deploy your static site, but they lack the ability to allow you customize your build process. Github won't allow you to run arbitrary Jekyll plugins at their environment, because of security concerns.\n\nIn this post I've collected a bunch of techniques to optimize your assets at build time that you can use even when hosting your Jekyll site in gh-pages.\n\n\n## Optimize HTML\n\n### Minify HTML with Compress\n\n[Jekyll Compress HTML](https://github.com/penibelst/jekyll-compress-html) is a Jekyll layout file that compresses HTML by removing unnecessary empty spaces characters and by removing [optional HTML tags](http://www.w3.org/TR/html5/syntax.html#optional-tags).\n\nIs just a [single HTML file](https://github.com/penibelst/jekyll-compress-html/blob/master/site/_layouts/compress.html) that you download and put inside your `_layouts` folder. Then you reference it by putting\n\n```\n---\nlayout: compress\n---\n```\n\nin the front-matter of your default layout, or in your HTML files. You can also remove empty spaces from a JSON/XML file that you generate, using the same approach.\n\nYou can check how it's done in [this commit](https://github.com/codeheaven-io/codeheaven.io/commit/96187be6c5c96c4785243c9ebf194823f5db9a35).\n\n## Optimize CSS\n\nJekyll natively supports Sass, so you can concatenate your files into a single bundle out-of-the-box. But only doing this won't minify or inline your CSS.\n\n### Inline CSS\n\nIt is a good idea to inline the CSS that is used to render the above-the-fold content of your site. But if you're running a simple blog or project page, probably your above-the-fold CSS is *all* of your CSS. So it might be a good idea to inline your whole CSS into a `<style>` tag in the head of your page. Specially if your HTML + inline CSS together are smaller that 14.6kb gzipped (gh-pages serves your site gzipped), because this is [how much data your client can receive in its first roundtrip to the server](https://developers.google.com/speed/docs/insights/mobile?hl=en).\n\nTo do this, you create a `inline.scss` file your `_includes` directory, and import whatever SCSS file you want to end up being inlined. Usually, will be as simple as importing a `main.scss` file (from your `_sass` directory):\n\n```\n@import \"main\";\n```\n\nThen, we include this file inside a `<style>` tag in the head of the document, passing it through Jekyll's built-in [scssify](http://www.rubydoc.info/github/jekyll/jekyll/Jekyll/Filters:scssify) filter:\n\n{% raw %}\n```\n{% capture inline_css %}\n  {% include inline.scss %}\n{% endcapture %}\n{{ inline_css | scssify }}\n```\n{% endraw %}\n\nYou can check how it's done in [this commit](https://github.com/codeheaven-io/codeheaven.io/commit/12ed5810d2edf6a967154cd14ee77b69ccf25c7f).\n\nOf course you can choose to inline only a portion of your CSS and load a separate CSS file.\n\n<small>\nThis technique I learned at this [Kevin Sweet post](http://www.kevinsweet.com/inline-scss-jekyll-github-pages/).\n</small>\n\n### Minify inline CSS\n\nRemember our friend Jekyll Compress HTML? If your CSS is inline, Compress will remove empty spaces, which is basically how CSS is minified.\n\n## Optimize JS\n\n### Concatenate JS\n\nLet's save some HTTP requests. Write all your JS in as many files you want and `include` all of them in a single file, and add a single `<script>` tag in your HTML requesting this file.\n\nJekyll's `include` will only look at the `_includes` folder, so it you want to keep your JS files in a separate folder, use [`include_relative`](http://jekyllrb.com/docs/templates/), which allows you to include relative to the file you are working on.\n\nYou can check how it's done in [this commit](https://github.com/CWISoftware/eventos/commit/b180160afb613287c50bcc2f8f411fc4fe0d6fe0).\n\n### Minify JS\n\nThis is what I haven't discovered yet how to do without a plugin. If you know, please tell me in the comments box bellow.\n\nJekyll Compress won't do it: it only removes empty space, and that's not how JS is minified. Besides, if you use a `//` for a comment, all of your code after that will be commented out.\n\n### Inline JS\n\nA simple `include` or `include_relative` of your file inside a `<script>` tag will do it. But it **won't work** with Jekyll Compress HTML, so pick which is better for your case.\n"},"s+cc":function(e,t,n){"use strict";var o=n("IZxv");e.exports=new o("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}})},sJOi:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},"ukl/":function(e,t,n){"use strict";var o=n("IZxv");e.exports=new o("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}})},vI6Y:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=o(n("mXGw")),i=n("9rrO");function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ampFirst,n=void 0!==t&&t,o=e.hybrid,r=void 0!==o&&o,i=e.hasQuery;return n||r&&(void 0!==i&&i)}t.isInAmpMode=a,t.useAmp=function(){return a(r.default.useContext(i.AmpStateContext))}},wISt:function(e,t,n){"use strict";var o=n("SFco");function r(e,t){for(var n in t)i(t,n)&&(e[n]=t[n])}function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e){o(e)||(e={});for(var t=arguments.length,n=1;n<t;n++){var i=arguments[n];o(i)&&r(e,i)}return e}},wcNg:function(e,t,n){var o=function(e){"use strict";var t,n=Object.prototype,o=n.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),a=new C(o||[]);return i._invoke=function(e,t,n){var o=l;return function(r,i){if(o===p)throw new Error("Generator is already running");if(o===f){if("throw"===r)throw i;return j()}for(n.method=r,n.arg=i;;){var a=n.delegate;if(a){var s=T(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===l)throw o=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var c=u(e,t,n);if("normal"===c.type){if(o=n.done?f:h,c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=f,n.method="throw",n.arg=c.arg)}}}(e,n,a),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(o){return{type:"throw",arg:o}}}e.wrap=c;var l="suspendedStart",h="suspendedYield",p="executing",f="completed",d={};function m(){}function g(){}function y(){}var w={};w[i]=function(){return this};var v=Object.getPrototypeOf,b=v&&v(v(E([])));b&&b!==n&&o.call(b,i)&&(w=b);var k=y.prototype=m.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function A(e,t){var n;this._invoke=function(r,i){function a(){return new t((function(n,a){!function n(r,i,a,s){var c=u(e[r],e,i);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"===typeof h&&o.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(h).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}(r,i,n,a)}))}return n=n?n.then(a,a):a()}}function T(e,n){var o=e.iterator[n.method];if(o===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method))return d;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=u(o,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,d;var i=r.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,d):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function E(e){if(e){var n=e[i];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function n(){for(;++r<e.length;)if(o.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:j}}function j(){return{value:t,done:!0}}return g.prototype=k.constructor=y,y.constructor=g,y[s]=g.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},x(A.prototype),A.prototype[a]=function(){return this},e.AsyncIterator=A,e.async=function(t,n,o,r,i){void 0===i&&(i=Promise);var a=new A(c(t,n,o,r),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(k),k[s]="Generator",k[i]=function(){return this},k.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=E,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(o,r){return s.type="throw",s.arg=e,n.next=o,r&&(n.method="next",n.arg=t),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var r=o.arg;S(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,o){return this.delegate={iterator:E(e),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=t),d}},e}(e.exports);try{regeneratorRuntime=o}catch(r){Function("r","regeneratorRuntime = r")(o)}},yPMl:function(e,t,n){var o={"./2015-07-21-practical-guide-to-functional-programming.md":"hI4d","./2015-10-30-optimizing-assets-in-jekyll-generated-gh-pages.md":"qMYF","./2016-01-09-simple-git-hooks-with-ghooks.md":"pjvv","./2016-01-14-javascript-code-coverage-with-instanbul-and-coveralls.md":"lI8o","./2016-11-19-monitoring-your-application-status-with-cabot.md":"NSjK","./2016-11-23-using-nexus-3-as-your-repository-part-1-maven-artifacts.md":"boRg","./2016-12-03-using-nexus-3-as-your-repository-part-2-npm-packages.md":"R5bF","./2017-01-07-using-nexus-3-as-your-repository-part-3-docker-images.md":"PHhV","./2019-11-25-redis-pipelining-transactions-and-lua-scripts.md":"naNh","./2019-11-25-redis-replication-and-partitioning.md":"Vn7P","./2020-11-22-grpc-load-balancing-with-grpc-go.md":"I3S6"};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id="yPMl"},ymHv:function(e,t,n){"use strict";var o=n("T9Nc"),r=n("+g4J"),i=n("IZxv");function a(e,t,n){var o=[];return e.include.forEach((function(e){n=a(e,t,n)})),e[t].forEach((function(e){n.forEach((function(t,n){t.tag===e.tag&&t.kind===e.kind&&o.push(n)})),n.push(e)})),n.filter((function(e,t){return-1===o.indexOf(t)}))}function s(e){this.include=e.include||[],this.implicit=e.implicit||[],this.explicit=e.explicit||[],this.implicit.forEach((function(e){if(e.loadKind&&"scalar"!==e.loadKind)throw new r("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")})),this.compiledImplicit=a(this,"implicit",[]),this.compiledExplicit=a(this,"explicit",[]),this.compiledTypeMap=function(){var e,t,n={scalar:{},sequence:{},mapping:{},fallback:{}};function o(e){n[e.kind][e.tag]=n.fallback[e.tag]=e}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(o);return n}(this.compiledImplicit,this.compiledExplicit)}s.DEFAULT=null,s.create=function(){var e,t;switch(arguments.length){case 1:e=s.DEFAULT,t=arguments[0];break;case 2:e=arguments[0],t=arguments[1];break;default:throw new r("Wrong number of arguments for Schema.create function")}if(e=o.toArray(e),t=o.toArray(t),!e.every((function(e){return e instanceof s})))throw new r("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!t.every((function(e){return e instanceof i})))throw new r("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new s({include:e,explicit:t})},e.exports=s},zFfO:function(e,t,n){"use strict";const o=n("YO7g"),r=n("aKDY"),i=n("Nvau");function a(e){return"\n"!==e.slice(-1)?e+"\n":e}e.exports=function(e,t,n){if(null==t&&null==n)switch(o(e)){case"object":t=e.data,n={};break;case"string":return e;default:throw new TypeError("expected file to be a string or object")}const s=e.content,c=i(n);if(null==t){if(!c.data)return e;t=c.data}const u=e.language||c.language,l=r(u,c);if("function"!==typeof l.stringify)throw new TypeError('expected "'+u+'.stringify" to be a function');t=Object.assign({},e.data,t);const h=c.delimiters[0],p=c.delimiters[1],f=l.stringify(t,n).trim();let d="";return"{}"!==f&&(d=a(h)+a(f)+a(p)),"string"===typeof e.excerpt&&""!==e.excerpt&&-1===s.indexOf(e.excerpt.trim())&&(d+=a(e.excerpt)+a(p)),d+a(s)}},zZNL:function(e,t,n){"use strict";e.exports=function(e){return"string"===typeof e&&"\ufeff"===e.charAt(0)?e.slice(1):e}},zkTx:function(e,t,n){"use strict";(function(e){var o=n("KlUR"),r=n("FaXh"),i=n("kah5");function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return u(this,e,t,n)}function u(e,t,n,o){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,o){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(o||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===o?new Uint8Array(t):void 0===o?new Uint8Array(t,n):new Uint8Array(t,n,o);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=p(e,t);return e}(e,t,n,o):"string"===typeof t?function(e,t,n){"string"===typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var o=0|d(t,n),r=(e=s(e,o)).write(t,n);r!==o&&(e=e.slice(0,r));return e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|f(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(o=t.length)!==o?s(e,0):p(e,t);if("Buffer"===t.type&&i(t.data))return p(e,t.data)}var o;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(l(t),e=s(e,t<0?0:0|f(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function p(e,t){var n=t.length<0?0:0|f(t.length);e=s(e,n);for(var o=0;o<n;o+=1)e[o]=255&t[o];return e}function f(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function d(e,t){if(c.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(e).length;default:if(o)return B(e).length;t=(""+t).toLowerCase(),o=!0}}function m(e,t,n){var o=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return E(this,t,n);case"latin1":case"binary":return j(this,t,n);case"base64":return I(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,n);default:if(o)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),o=!0}}function g(e,t,n){var o=e[t];e[t]=e[n],e[n]=o}function y(e,t,n,o,r){if(0===e.length)return-1;if("string"===typeof n?(o=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"===typeof t&&(t=c.from(t,o)),c.isBuffer(t))return 0===t.length?-1:w(e,t,n,o,r);if("number"===typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):w(e,[t],n,o,r);throw new TypeError("val must be string, number or Buffer")}function w(e,t,n,o,r){var i,a=1,s=e.length,c=t.length;if(void 0!==o&&("ucs2"===(o=String(o).toLowerCase())||"ucs-2"===o||"utf16le"===o||"utf-16le"===o)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(r){var l=-1;for(i=n;i<s;i++)if(u(e,i)===u(t,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===c)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(n+c>s&&(n=s-c),i=n;i>=0;i--){for(var h=!0,p=0;p<c;p++)if(u(e,i+p)!==u(t,p)){h=!1;break}if(h)return i}return-1}function v(e,t,n,o){n=Number(n)||0;var r=e.length-n;o?(o=Number(o))>r&&(o=r):o=r;var i=t.length;if(i%2!==0)throw new TypeError("Invalid hex string");o>i/2&&(o=i/2);for(var a=0;a<o;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function b(e,t,n,o){return W(B(t,e.length-n),e,n,o)}function k(e,t,n,o){return W(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,o)}function x(e,t,n,o){return k(e,t,n,o)}function A(e,t,n,o){return W(H(t),e,n,o)}function T(e,t,n,o){return W(function(e,t){for(var n,o,r,i=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),o=n>>8,r=n%256,i.push(r),i.push(o);return i}(t,e.length-n),e,n,o)}function I(e,t,n){return 0===t&&n===e.length?o.fromByteArray(e):o.fromByteArray(e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);for(var o=[],r=t;r<n;){var i,a,s,c,u=e[r],l=null,h=u>239?4:u>223?3:u>191?2:1;if(r+h<=n)switch(h){case 1:u<128&&(l=u);break;case 2:128===(192&(i=e[r+1]))&&(c=(31&u)<<6|63&i)>127&&(l=c);break;case 3:i=e[r+1],a=e[r+2],128===(192&i)&&128===(192&a)&&(c=(15&u)<<12|(63&i)<<6|63&a)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:i=e[r+1],a=e[r+2],s=e[r+3],128===(192&i)&&128===(192&a)&&128===(192&s)&&(c=(15&u)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(l=c)}null===l?(l=65533,h=1):l>65535&&(l-=65536,o.push(l>>>10&1023|55296),l=56320|1023&l),o.push(l),r+=h}return function(e){var t=e.length;if(t<=C)return String.fromCharCode.apply(String,e);var n="",o=0;for(;o<t;)n+=String.fromCharCode.apply(String,e.slice(o,o+=C));return n}(o)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=a(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return u(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,o){return l(t),t<=0?s(e,t):void 0!==n?"string"===typeof o?s(e,t).fill(n,o):s(e,t).fill(n):s(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return h(null,e)},c.allocUnsafeSlow=function(e){return h(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,o=t.length,r=0,i=Math.min(n,o);r<i;++r)if(e[r]!==t[r]){n=e[r],o=t[r];break}return n<o?-1:o<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var o=c.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var a=e[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(o,r),r+=a.length}return o},c.byteLength=d,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):m.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,o,r){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===o&&(o=0),void 0===r&&(r=this.length),t<0||n>e.length||o<0||r>this.length)throw new RangeError("out of range index");if(o>=r&&t>=n)return 0;if(o>=r)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(r>>>=0)-(o>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(i,a),u=this.slice(o,r),l=e.slice(t,n),h=0;h<s;++h)if(u[h]!==l[h]){i=u[h],a=l[h];break}return i<a?-1:a<i?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},c.prototype.write=function(e,t,n,o){if(void 0===t)o="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)o=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===o&&(o="utf8")):(o=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");for(var i=!1;;)switch(o){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return k(this,e,t,n);case"latin1":case"binary":return x(this,e,t,n);case"base64":return A(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function E(e,t,n){var o="";n=Math.min(e.length,n);for(var r=t;r<n;++r)o+=String.fromCharCode(127&e[r]);return o}function j(e,t,n){var o="";n=Math.min(e.length,n);for(var r=t;r<n;++r)o+=String.fromCharCode(e[r]);return o}function R(e,t,n){var o=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>o)&&(n=o);for(var r="",i=t;i<n;++i)r+=F(e[i]);return r}function M(e,t,n){for(var o=e.slice(t,n),r="",i=0;i<o.length;i+=2)r+=String.fromCharCode(o[i]+256*o[i+1]);return r}function O(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,n,o,r,i){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<i)throw new RangeError('"value" argument is out of bounds');if(n+o>e.length)throw new RangeError("Index out of range")}function _(e,t,n,o){t<0&&(t=65535+t+1);for(var r=0,i=Math.min(e.length-n,2);r<i;++r)e[n+r]=(t&255<<8*(o?r:1-r))>>>8*(o?r:1-r)}function L(e,t,n,o){t<0&&(t=4294967295+t+1);for(var r=0,i=Math.min(e.length-n,4);r<i;++r)e[n+r]=t>>>8*(o?r:3-r)&255}function P(e,t,n,o,r,i){if(n+o>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,o,i){return i||P(e,0,n,4),r.write(e,t,n,o,23,4),n+4}function U(e,t,n,o,i){return i||P(e,0,n,8),r.write(e,t,n,o,52,8),n+8}c.prototype.slice=function(e,t){var n,o=this.length;if((e=~~e)<0?(e+=o)<0&&(e=0):e>o&&(e=o),(t=void 0===t?o:~~t)<0?(t+=o)<0&&(t=0):t>o&&(t=o),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var r=t-e;n=new c(r,void 0);for(var i=0;i<r;++i)n[i]=this[i+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var o=this[e],r=1,i=0;++i<t&&(r*=256);)o+=this[e+i]*r;return o},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var o=this[e+--t],r=1;t>0&&(r*=256);)o+=this[e+--t]*r;return o},c.prototype.readUInt8=function(e,t){return t||O(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||O(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||O(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var o=this[e],r=1,i=0;++i<t&&(r*=256);)o+=this[e+i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*t)),o},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var o=t,r=1,i=this[e+--o];o>0&&(r*=256);)i+=this[e+--o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||O(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||O(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||O(e,4,this.length),r.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||O(e,4,this.length),r.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||O(e,8,this.length),r.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||O(e,8,this.length),r.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,o){(e=+e,t|=0,n|=0,o)||N(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,i=0;for(this[t]=255&e;++i<n&&(r*=256);)this[t+i]=e/r&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,o){(e=+e,t|=0,n|=0,o)||N(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,i=1;for(this[t+r]=255&e;--r>=0&&(i*=256);)this[t+r]=e/i&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):_(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):_(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,o){if(e=+e,t|=0,!o){var r=Math.pow(2,8*n-1);N(this,e,t,n,r-1,-r)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,o){if(e=+e,t|=0,!o){var r=Math.pow(2,8*n-1);N(this,e,t,n,r-1,-r)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):_(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):_(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,o){if(n||(n=0),o||0===o||(o=this.length),t>=e.length&&(t=e.length),t||(t=0),o>0&&o<n&&(o=n),o===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),e.length-t<o-n&&(o=e.length-t+n);var r,i=o-n;if(this===e&&n<t&&t<o)for(r=i-1;r>=0;--r)e[r+t]=this[r+n];else if(i<1e3||!c.TYPED_ARRAY_SUPPORT)for(r=0;r<i;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},c.prototype.fill=function(e,t,n,o){if("string"===typeof e){if("string"===typeof t?(o=t,t=0,n=this.length):"string"===typeof n&&(o=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==o&&"string"!==typeof o)throw new TypeError("encoding must be a string");if("string"===typeof o&&!c.isEncoding(o))throw new TypeError("Unknown encoding: "+o)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=c.isBuffer(e)?e:B(new c(e,o).toString()),s=a.length;for(i=0;i<n-t;++i)this[i+t]=a[i%s]}return this};var Y=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function B(e,t){var n;t=t||1/0;for(var o=e.length,r=null,i=[],a=0;a<o;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===o){(t-=3)>-1&&i.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&i.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function H(e){return o.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(Y,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function W(e,t,n,o){for(var r=0;r<o&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}}).call(this,n("pCvA"))}}]);